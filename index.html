<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Breakwater — Guest App | T3D Properties, Avalon NJ</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&family=Jost:wght@200;300;400;500&display=swap" rel="stylesheet">
  <!-- EmailJS SDK — https://www.emailjs.com -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <style>
    :root {
      --teal: #2aab9e;
      --teal-dark: #1d8278;
      --teal-deep: #155e56;
      --teal-light: #5bc9bf;
      --coral: #e8735a;
      --coral-light: #f0937d;
      --sand: #f5ede0;
      --sand-dark: #e8d8c0;
      --sand-mid: #d4ba96;
      --sun: #f5c842;
      --white: #fdfaf6;
      --text: #1e2d2b;
      --text-light: #5a7270;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Jost', sans-serif; background: var(--sand); color: var(--text); overflow-x: hidden; }

    /* ---- NAVIGATION ---- */
    .nav {
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 100;
      background: rgba(21, 94, 86, 0.97);
      backdrop-filter: blur(12px);
      padding: 0 28px;
      height: 64px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .nav-logo {
      font-family: 'Cormorant Garamond', serif;
      font-size: 22px;
      font-weight: 400;
      color: var(--white);
      letter-spacing: 0.5px;
      cursor: pointer;
    }
    .nav-logo span { color: var(--sun); }
    .nav-tabs { display: flex; gap: 2px; list-style: none; }
    .nav-tabs button {
      background: none;
      border: none;
      color: rgba(255,255,255,0.7);
      font-family: 'Jost', sans-serif;
      font-size: 12px;
      font-weight: 300;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      padding: 8px 14px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .nav-tabs button:hover { color: white; background: rgba(255,255,255,0.1); }
    .nav-tabs button.active { color: var(--sun); background: rgba(245,200,66,0.15); }
    .nav-hamburger {
      display: none;
      flex-direction: column;
      gap: 5px;
      cursor: pointer;
      padding: 8px;
    }
    .nav-hamburger span {
      display: block;
      width: 22px;
      height: 2px;
      background: white;
      border-radius: 2px;
      transition: 0.3s;
    }

    /* ---- PAGES ---- */
    .page { display: none; min-height: 100vh; }
    .page.active { display: block; }

    /* ---- HOME PAGE ---- */
    .hero {
      position: relative;
      height: 100vh;
      min-height: 600px;
      background: linear-gradient(160deg, var(--teal-deep) 0%, var(--teal) 45%, var(--teal-light) 75%, #8dd8d2 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    .sun-orb {
      position: absolute;
      top: 12%; right: 12%;
      width: 90px; height: 90px;
      border-radius: 50%;
      background: radial-gradient(circle, #ffe066, var(--sun));
      box-shadow: 0 0 70px 30px rgba(245,200,66,.35);
      animation: sunPulse 4s ease-in-out infinite;
    }
    @keyframes sunPulse {
      0%, 100% { box-shadow: 0 0 60px 25px rgba(245,200,66,.3); }
      50% { box-shadow: 0 0 90px 40px rgba(245,200,66,.5); }
    }
    .bubble {
      position: absolute;
      border-radius: 50%;
      background: rgba(255,255,255,.12);
      animation: rise linear infinite;
    }
    @keyframes rise {
      0% { transform: translateY(110vh) scale(.5); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: .6; }
      100% { transform: translateY(-120px) scale(1.1); opacity: 0; }
    }
    .hero-content {
      position: relative;
      z-index: 2;
      text-align: center;
      color: white;
      padding: 0 24px;
    }
    .hero-eyebrow {
      font-size: 11px;
      letter-spacing: 3px;
      text-transform: uppercase;
      color: var(--sun);
      margin-bottom: 16px;
      font-weight: 300;
    }
    .hero-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(52px, 8vw, 96px);
      font-weight: 300;
      line-height: 1;
      letter-spacing: -1px;
      margin-bottom: 12px;
    }
    .hero-subtitle {
      font-size: 15px;
      font-weight: 200;
      letter-spacing: 2.5px;
      text-transform: uppercase;
      opacity: 0.8;
      margin-bottom: 48px;
    }
    .hero-cards {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 40px;
    }
    .hero-card {
      background: rgba(255,255,255,0.12);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 14px;
      padding: 16px 22px;
      min-width: 140px;
      text-align: center;
    }
    .hero-card-label {
      font-size: 10px;
      letter-spacing: 2px;
      text-transform: uppercase;
      opacity: 0.65;
      margin-bottom: 6px;
    }
    .hero-card-value {
      font-family: 'Cormorant Garamond', serif;
      font-size: 22px;
      font-weight: 400;
    }
    .hero-card-sub { font-size: 11px; opacity: 0.6; margin-top: 3px; }
    .hero-cta { display: inline-flex; gap: 12px; }
    .hero-scroll {
      position: absolute;
      bottom: 32px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      color: rgba(255,255,255,0.55);
      font-size: 10px;
      letter-spacing: 2px;
      text-transform: uppercase;
      cursor: pointer;
      animation: bounce 2s ease-in-out infinite;
    }
    @keyframes bounce {
      0%, 100% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(7px); }
    }
    .hero-scroll svg { width: 18px; height: 18px; stroke: rgba(255,255,255,0.55); }

    /* ---- BUTTONS ---- */
    .btn {
      display: inline-block;
      padding: 12px 26px;
      border-radius: 8px;
      font-family: 'Jost', sans-serif;
      font-size: 11px;
      font-weight: 400;
      letter-spacing: 2px;
      text-transform: uppercase;
      cursor: pointer;
      border: none;
      transition: all 0.2s;
    }
    .btn-primary { background: var(--coral); color: white; }
    .btn-primary:hover { background: var(--coral-light); transform: translateY(-1px); }
    .btn-outline { background: transparent; color: white; border: 1px solid rgba(255,255,255,0.45); }
    .btn-outline:hover { background: rgba(255,255,255,0.1); border-color: white; }
    .btn-teal { background: var(--teal); color: white; }
    .btn-teal:hover { background: var(--teal-dark); transform: translateY(-1px); }
    .btn-ghost { background: none; color: var(--text-light); border: 1px solid var(--sand-dark); }
    .btn-ghost:hover { background: var(--sand); border-color: var(--sand-mid); }
    .btn-sm { padding: 8px 16px; font-size: 10px; }

    /* ---- SECTION LAYOUT ---- */
    .section {
      padding: 80px 24px 60px;
      max-width: 1100px;
      margin: 0 auto;
    }
    .section-header { margin-bottom: 40px; }
    .section-eyebrow {
      font-size: 11px;
      letter-spacing: 3px;
      text-transform: uppercase;
      color: var(--teal);
      margin-bottom: 8px;
    }
    .section-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(30px, 5vw, 50px);
      font-weight: 300;
      color: var(--text);
      line-height: 1.1;
    }
    .section-desc {
      margin-top: 10px;
      color: var(--text-light);
      font-weight: 300;
      font-size: 15px;
      max-width: 460px;
    }

    /* ---- CARDS ---- */
    .card {
      background: var(--white);
      border-radius: 18px;
      padding: 24px;
      box-shadow: 0 2px 20px rgba(30,45,43,0.06);
    }
    .card-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 21px;
      font-weight: 400;
      margin-bottom: 18px;
      color: var(--text);
    }

    /* ---- MY STAY PAGE ---- */
    #page-stay { background: var(--sand); padding-top: 64px; }
    .stay-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 22px;
    }
    .stay-booking-card {
      background: linear-gradient(135deg, var(--teal-deep) 0%, var(--teal) 100%);
      color: white;
      border-radius: 20px;
      padding: 32px;
      grid-column: 1 / -1;
    }
    .booking-confirmation-tag {
      display: inline-block;
      background: rgba(255,255,255,0.15);
      border-radius: 20px;
      padding: 4px 14px;
      font-size: 11px;
      letter-spacing: 1px;
      margin-bottom: 18px;
    }
    .booking-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: 24px;
      margin-top: 24px;
    }
    .booking-detail-label {
      font-size: 10px;
      letter-spacing: 2px;
      text-transform: uppercase;
      opacity: 0.65;
      margin-bottom: 5px;
    }
    .booking-detail-value {
      font-family: 'Cormorant Garamond', serif;
      font-size: 24px;
      font-weight: 400;
    }
    .booking-detail-sub { font-size: 12px; opacity: 0.65; margin-top: 2px; }
    .amenities-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(88px, 1fr));
      gap: 10px;
      margin-top: 4px;
    }
    .amenity-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 7px;
      padding: 14px 6px;
      background: var(--sand);
      border-radius: 12px;
      text-align: center;
    }
    .amenity-icon { font-size: 22px; }
    .amenity-label { font-size: 10px; color: var(--text-light); font-weight: 300; }
    .info-row {
      display: flex;
      align-items: flex-start;
      gap: 14px;
      padding: 14px 0;
      border-bottom: 1px solid var(--sand-dark);
    }
    .info-row:last-child { border-bottom: none; }
    .info-icon {
      width: 38px; height: 38px;
      background: var(--sand);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      flex-shrink: 0;
    }
    .info-label {
      font-size: 10px;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      color: var(--text-light);
      margin-bottom: 4px;
    }
    .info-value { font-size: 15px; color: var(--text); font-weight: 400; }
    .info-sub { font-size: 12px; color: var(--text-light); margin-top: 2px; }
    .code-display {
      display: inline-block;
      background: var(--teal-deep);
      color: white;
      font-size: 20px;
      letter-spacing: 6px;
      padding: 9px 18px;
      border-radius: 10px;
      font-family: monospace;
      margin-top: 8px;
    }
    .rule-item {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 9px 0;
      font-size: 13px;
      color: var(--text);
      font-weight: 300;
      border-bottom: 1px solid var(--sand);
    }
    .rule-item:last-child { border-bottom: none; }
    .rule-dot {
      width: 5px; height: 5px;
      background: var(--coral);
      border-radius: 50%;
      margin-top: 7px;
      flex-shrink: 0;
    }

    /* ---- BOOKING PAGE ---- */
    #page-book { background: var(--sand); padding-top: 64px; }
    .booking-layout {
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 28px;
      align-items: start;
    }
    .calendar-container {
      background: var(--white);
      border-radius: 20px;
      padding: 28px;
      box-shadow: 0 2px 20px rgba(30,45,43,0.06);
    }
    .calendar-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 22px;
    }
    .calendar-nav button {
      width: 34px; height: 34px;
      border: 1px solid var(--sand-dark);
      background: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 18px;
      color: var(--text-light);
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .calendar-nav button:hover { background: var(--sand); border-color: var(--teal); color: var(--teal); }
    .calendar-month {
      font-family: 'Cormorant Garamond', serif;
      font-size: 22px;
      font-weight: 400;
    }
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 3px;
    }
    .cal-day-name {
      text-align: center;
      font-size: 10px;
      letter-spacing: 1px;
      text-transform: uppercase;
      color: var(--text-light);
      padding: 7px 0;
    }
    .cal-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.15s;
    }
    .cal-day:hover:not(.booked):not(.empty) { background: var(--sand); }
    .cal-day.empty { cursor: default; }
    .cal-day.today { font-weight: 500; color: var(--teal); }
    .cal-day.booked { background: var(--sand-dark); color: var(--sand-mid); cursor: not-allowed; text-decoration: line-through; }
    .cal-day.selected { background: var(--teal); color: white; font-weight: 500; }
    .cal-day.in-range { background: rgba(42,171,158,0.14); color: var(--teal-dark); border-radius: 0; }
    .cal-day.range-start { background: var(--teal); color: white; border-radius: 8px 0 0 8px; }
    .cal-day.range-end { background: var(--teal); color: white; border-radius: 0 8px 8px 0; }
    .cal-legend { display: flex; gap: 16px; margin-top: 16px; flex-wrap: wrap; }
    .legend-item { display: flex; align-items: center; gap: 6px; font-size: 11px; color: var(--text-light); }
    .legend-dot { width: 12px; height: 12px; border-radius: 3px; }
    .booking-sidebar { position: sticky; top: 80px; }
    .form-group { margin-bottom: 18px; }
    .form-label {
      display: block;
      font-size: 10px;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      color: var(--text-light);
      margin-bottom: 7px;
    }
    .form-input {
      width: 100%;
      padding: 11px 14px;
      border: 1px solid var(--sand-dark);
      border-radius: 10px;
      font-family: 'Jost', sans-serif;
      font-size: 14px;
      color: var(--text);
      background: var(--white);
      transition: border-color 0.2s;
    }
    .form-input:focus { outline: none; border-color: var(--teal); }
    .form-select {
      width: 100%;
      padding: 11px 14px;
      border: 1px solid var(--sand-dark);
      border-radius: 10px;
      font-family: 'Jost', sans-serif;
      font-size: 14px;
      color: var(--text);
      background: var(--white);
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' fill='none'%3E%3Cpath stroke='%235a7270' stroke-width='1.5' d='m1 1 5 5 5-5'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 14px center;
    }
    .form-select:focus { outline: none; border-color: var(--teal); }
    .price-summary {
      background: var(--sand);
      border-radius: 12px;
      padding: 14px;
      margin-bottom: 18px;
    }
    .price-row {
      display: flex;
      justify-content: space-between;
      padding: 5px 0;
      font-size: 13px;
      color: var(--text-light);
    }
    .price-row.total {
      border-top: 1px solid var(--sand-dark);
      margin-top: 8px;
      padding-top: 10px;
      font-weight: 500;
      color: var(--text);
      font-size: 15px;
    }

    /* ---- RESTAURANTS PAGE ---- */
    #page-restaurants { background: var(--sand); padding-top: 64px; }
    .restaurants-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 22px;
    }
    .restaurant-card {
      background: var(--white);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 2px 20px rgba(30,45,43,0.06);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .restaurant-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 32px rgba(30,45,43,0.12);
    }
    .restaurant-img {
      height: 170px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 52px;
      position: relative;
      overflow: hidden;
    }
    .restaurant-img::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, transparent 40%, rgba(0,0,0,0.18));
    }
    .restaurant-cuisine-tag {
      position: absolute;
      bottom: 12px; left: 14px;
      background: rgba(255,255,255,0.92);
      color: var(--teal-dark);
      font-size: 9px;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      padding: 4px 10px;
      border-radius: 20px;
      font-weight: 500;
      z-index: 1;
    }
    .restaurant-price-tag {
      position: absolute;
      bottom: 12px; right: 14px;
      background: var(--teal-deep);
      color: var(--sun);
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 20px;
      z-index: 1;
    }
    .restaurant-body { padding: 18px; }
    .restaurant-name {
      font-family: 'Cormorant Garamond', serif;
      font-size: 21px;
      font-weight: 400;
      margin-bottom: 6px;
    }
    .restaurant-desc {
      font-size: 12px;
      color: var(--text-light);
      font-weight: 300;
      line-height: 1.65;
      margin-bottom: 12px;
    }
    .restaurant-meta { display: flex; flex-direction: column; gap: 4px; margin-bottom: 14px; }
    .restaurant-meta-item { font-size: 12px; color: var(--text-light); }
    .restaurant-actions { display: flex; gap: 8px; }

    /* ---- MAINTENANCE PAGE ---- */
    #page-maintenance { background: var(--sand); padding-top: 64px; }
    .maintenance-layout {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 28px;
      align-items: start;
    }
    .status-badge {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 20px;
      font-size: 10px;
      letter-spacing: 1px;
      text-transform: uppercase;
      font-weight: 500;
    }
    .status-open { background: rgba(232,115,90,0.14); color: var(--coral); }
    .status-progress { background: rgba(42,171,158,0.14); color: var(--teal-dark); }
    .status-resolved { background: rgba(90,114,112,0.12); color: var(--text-light); }
    .request-item {
      padding: 15px;
      border-bottom: 1px solid var(--sand-dark);
    }
    .request-item:last-child { border-bottom: none; }
    .request-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 5px;
      gap: 8px;
    }
    .request-title { font-size: 14px; font-weight: 400; color: var(--text); }
    .request-date { font-size: 11px; color: var(--text-light); margin-bottom: 4px; }
    .request-desc { font-size: 12px; color: var(--text-light); font-weight: 300; }
    .category-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      margin-bottom: 4px;
    }
    .category-btn {
      padding: 12px 8px;
      border: 2px solid var(--sand-dark);
      background: white;
      border-radius: 10px;
      cursor: pointer;
      text-align: center;
      transition: all 0.2s;
      font-family: 'Jost', sans-serif;
    }
    .category-btn:hover { border-color: var(--teal); background: rgba(42,171,158,0.04); }
    .category-btn.selected { border-color: var(--teal); background: rgba(42,171,158,0.09); color: var(--teal-dark); }
    .cat-icon { font-size: 20px; display: block; margin-bottom: 4px; }
    .cat-label { font-size: 10px; letter-spacing: 0.5px; }
    .textarea {
      width: 100%;
      padding: 11px 14px;
      border: 1px solid var(--sand-dark);
      border-radius: 10px;
      font-family: 'Jost', sans-serif;
      font-size: 13px;
      color: var(--text);
      resize: vertical;
      min-height: 96px;
      background: var(--white);
    }
    .textarea:focus { outline: none; border-color: var(--teal); }

    /* ---- MODAL ---- */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(21,94,86,0.6);
      backdrop-filter: blur(4px);
      z-index: 200;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }
    .modal-overlay.active { display: flex; }
    .modal-box {
      background: var(--white);
      border-radius: 24px;
      padding: 36px;
      max-width: 460px;
      width: 100%;
      position: relative;
      animation: modalIn 0.25s ease;
      max-height: 90vh;
      overflow-y: auto;
    }
    @keyframes modalIn {
      from { opacity: 0; transform: scale(0.95) translateY(10px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
    .modal-close {
      position: absolute;
      top: 14px; right: 14px;
      width: 30px; height: 30px;
      border: none;
      background: var(--sand);
      border-radius: 50%;
      cursor: pointer;
      font-size: 16px;
      color: var(--text-light);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    .modal-close:hover { background: var(--sand-dark); }
    .modal-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 26px;
      font-weight: 400;
      margin-bottom: 4px;
    }
    .modal-subtitle { font-size: 12px; color: var(--text-light); margin-bottom: 22px; }

    /* ---- TOAST ---- */
    .toast {
      position: fixed;
      bottom: 24px; right: 24px;
      background: var(--teal-deep);
      color: white;
      padding: 13px 18px;
      border-radius: 12px;
      font-size: 13px;
      z-index: 300;
      transform: translateY(80px);
      opacity: 0;
      transition: all 0.3s;
      max-width: 320px;
      box-shadow: 0 4px 20px rgba(21,94,86,0.3);
    }
    .toast.show { transform: translateY(0); opacity: 1; }

    /* ---- RESPONSIVE ---- */
    @media (max-width: 820px) {
      .nav-tabs { display: none; }
      .nav-hamburger { display: flex; }
      .nav-tabs.open {
        display: flex;
        flex-direction: column;
        position: fixed;
        top: 64px; left: 0; right: 0;
        background: var(--teal-deep);
        padding: 12px;
        gap: 2px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
      }
      .stay-grid { grid-template-columns: 1fr; }
      .booking-layout { grid-template-columns: 1fr; }
      .maintenance-layout { grid-template-columns: 1fr; }
      .restaurants-grid { grid-template-columns: 1fr; }
      .stay-booking-card { grid-column: auto; }
      .hero-cards { gap: 8px; }
      .hero-card { min-width: 120px; padding: 12px 16px; }
    }
    @media (max-width: 480px) {
      .hero-cards { flex-direction: column; align-items: center; }
      .hero-card { width: 240px; }
      .hero-cta { flex-direction: column; align-items: center; }
    }

    /* ---- COUNTDOWN ---- */
    .countdown-heading {
      font-size: 10px;
      letter-spacing: 3px;
      text-transform: uppercase;
      color: rgba(255,255,255,0.6);
      margin-bottom: 10px;
      text-align: center;
    }
    .countdown-widget {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin-bottom: 32px;
    }
    .countdown-unit {
      background: rgba(255,255,255,0.12);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 12px;
      padding: 12px 16px;
      text-align: center;
      min-width: 72px;
    }
    .countdown-number {
      font-family: 'Cormorant Garamond', serif;
      font-size: 36px;
      font-weight: 300;
      line-height: 1;
      color: var(--sun);
    }
    .countdown-label {
      font-size: 9px;
      letter-spacing: 2px;
      text-transform: uppercase;
      opacity: 0.65;
      margin-top: 5px;
      color: white;
    }

    /* ---- BEACH CONDITIONS STRIP ---- */
    .conditions-section {
      background: linear-gradient(135deg, var(--teal-deep) 0%, var(--teal-dark) 100%);
    }
    .conditions-header {
      text-align: center;
      color: rgba(255,255,255,0.55);
      font-size: 10px;
      letter-spacing: 3px;
      text-transform: uppercase;
      padding: 28px 24px 0;
    }
    .conditions-strip {
      max-width: 1100px;
      margin: 0 auto;
      padding: 20px 24px 32px;
      display: grid;
      grid-template-columns: 1fr 1px 1fr 1px 1fr 1px 1fr 1px 1fr;
      gap: 0;
      align-items: center;
    }
    .conditions-divider {
      height: 48px;
      background: rgba(255,255,255,0.12);
    }
    .conditions-item {
      text-align: center;
      color: white;
      padding: 8px 16px;
    }
    .conditions-icon { font-size: 28px; margin-bottom: 8px; }
    .conditions-value {
      font-family: 'Cormorant Garamond', serif;
      font-size: 26px;
      font-weight: 300;
      line-height: 1;
    }
    .conditions-label {
      font-size: 9px;
      letter-spacing: 2px;
      text-transform: uppercase;
      opacity: 0.55;
      margin-top: 5px;
    }
    .conditions-badge {
      display: inline-block;
      background: rgba(245,200,66,0.25);
      color: var(--sun);
      font-size: 9px;
      letter-spacing: 1px;
      text-transform: uppercase;
      padding: 2px 8px;
      border-radius: 20px;
      margin-top: 3px;
    }

    /* ---- GALLERY LIGHTBOX ---- */
    .gallery-modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.94);
      z-index: 400;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .gallery-modal-overlay.active { display: flex; }
    .gallery-close-btn {
      position: fixed;
      top: 18px; right: 18px;
      width: 40px; height: 40px;
      background: rgba(255,255,255,0.12);
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      transition: all 0.2s;
    }
    .gallery-close-btn:hover { background: rgba(255,255,255,0.25); }
    .gallery-wrapper {
      position: relative;
      max-width: 800px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .gallery-main-img {
      width: 100%;
      aspect-ratio: 16/10;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 80px;
      margin-bottom: 18px;
      position: relative;
      overflow: hidden;
      transition: background 0.3s;
    }
    .gallery-nav-btn {
      position: absolute;
      top: calc(50% - 30px);
      transform: translateY(-50%);
      background: rgba(255,255,255,0.12);
      border: none;
      color: white;
      width: 44px; height: 44px;
      border-radius: 50%;
      font-size: 22px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(4px);
      z-index: 5;
    }
    .gallery-nav-btn:hover { background: rgba(255,255,255,0.28); }
    .gallery-nav-btn.prev { left: -58px; }
    .gallery-nav-btn.next { right: -58px; }
    .gallery-caption {
      font-family: 'Cormorant Garamond', serif;
      font-size: 24px;
      font-weight: 300;
      color: white;
      text-align: center;
      margin-bottom: 4px;
    }
    .gallery-caption-sub {
      font-size: 11px;
      color: rgba(255,255,255,0.45);
      letter-spacing: 1.5px;
      text-align: center;
      margin-bottom: 18px;
    }
    .gallery-thumbs {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      max-width: 100%;
      padding: 4px 0 8px;
    }
    .gallery-thumb {
      width: 68px;
      height: 46px;
      border-radius: 9px;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.2s;
      opacity: 0.55;
    }
    .gallery-thumb.active, .gallery-thumb:hover { border-color: white; opacity: 1; }
    .gallery-counter {
      color: rgba(255,255,255,0.35);
      font-size: 11px;
      letter-spacing: 2px;
      margin-top: 10px;
    }
    .gallery-trigger-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 20px;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.25);
      color: rgba(255,255,255,0.85);
      border-radius: 8px;
      font-family: 'Jost', sans-serif;
      font-size: 11px;
      font-weight: 400;
      letter-spacing: 1.5px;
      text-transform: uppercase;
      cursor: pointer;
      transition: all 0.2s;
      margin-top: 18px;
    }
    .gallery-trigger-btn:hover { background: rgba(255,255,255,0.22); border-color: rgba(255,255,255,0.5); }

    /* ---- EXPLORE PAGE ---- */
    #page-explore { background: var(--sand); padding-top: 64px; }
    .explore-filters {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 32px;
    }
    .filter-pill {
      padding: 8px 18px;
      border-radius: 30px;
      font-size: 11px;
      font-weight: 400;
      letter-spacing: 1px;
      text-transform: uppercase;
      cursor: pointer;
      border: 1.5px solid var(--sand-dark);
      background: var(--white);
      color: var(--text-light);
      transition: all 0.2s;
      font-family: 'Jost', sans-serif;
    }
    .filter-pill:hover { border-color: var(--teal); color: var(--teal-dark); }
    .filter-pill.active { background: var(--teal); border-color: var(--teal); color: white; }
    .explore-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    .explore-card {
      background: var(--white);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 2px 20px rgba(30,45,43,0.06);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .explore-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 32px rgba(30,45,43,0.12);
    }
    .explore-card-img {
      height: 130px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 46px;
      position: relative;
    }
    .explore-card-img::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.15));
    }
    .explore-dist-badge {
      position: absolute;
      bottom: 10px; right: 12px;
      background: rgba(255,255,255,0.92);
      color: var(--teal-dark);
      font-size: 9px;
      letter-spacing: 1px;
      text-transform: uppercase;
      padding: 3px 9px;
      border-radius: 20px;
      font-weight: 500;
      z-index: 1;
    }
    .explore-card-body { padding: 16px 18px 18px; }
    .explore-card-name {
      font-family: 'Cormorant Garamond', serif;
      font-size: 20px;
      font-weight: 400;
      margin-bottom: 5px;
    }
    .explore-card-desc {
      font-size: 12px;
      color: var(--text-light);
      font-weight: 300;
      line-height: 1.65;
      margin-bottom: 11px;
    }
    .explore-tags {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }
    .explore-tag {
      padding: 3px 10px;
      border-radius: 20px;
      font-size: 10px;
      letter-spacing: 0.5px;
    }
    .tag-beach { background: rgba(42,171,158,0.12); color: var(--teal-dark); }
    .tag-water { background: rgba(30,100,200,0.1); color: #1a60a0; }
    .tag-family { background: rgba(232,115,90,0.12); color: var(--coral); }
    .tag-shopping { background: rgba(140,90,200,0.1); color: #7040aa; }
    .tag-sightseeing { background: rgba(245,200,66,0.18); color: #8a6000; }
    .tag-free { background: rgba(60,160,70,0.12); color: #287a2a; }
    .explore-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 12px;
      color: var(--text-light);
    }
    .star-rating { color: var(--sun); letter-spacing: 1px; }

    @media (max-width: 820px) {
      .conditions-strip { grid-template-columns: repeat(3, 1fr); gap: 0; }
      .conditions-divider { display: none; }
      .explore-grid { grid-template-columns: 1fr 1fr; }
      .gallery-nav-btn.prev { left: -46px; }
      .gallery-nav-btn.next { right: -46px; }
    }
    @media (max-width: 600px) {
      .explore-grid { grid-template-columns: 1fr; }
      .gallery-nav-btn { display: none; }
      .gallery-wrapper { padding: 0; }
      .countdown-unit { min-width: 60px; padding: 10px 12px; }
      .countdown-number { font-size: 28px; }
    }
  /* ---- PASSWORD LOCK SCREEN ---- */
  #lockScreen {
    position: fixed;
    inset: 0;
    z-index: 9999;
    background: var(--teal-deep);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.5s ease;
  }
  #lockScreen.unlocked {
    opacity: 0;
    pointer-events: none;
  }
  .lock-card {
    background: rgba(255,255,255,0.07);
    border: 1px solid rgba(255,255,255,0.15);
    border-radius: 20px;
    padding: 48px 40px;
    width: 90%;
    max-width: 380px;
    text-align: center;
  }
  .lock-logo {
    font-family: 'Cormorant Garamond', serif;
    font-size: 28px;
    font-weight: 400;
    color: var(--white);
    letter-spacing: 0.5px;
    margin-bottom: 6px;
  }
  .lock-logo span { color: var(--sun); }
  .lock-subtitle {
    font-family: 'Jost', sans-serif;
    font-size: 11px;
    font-weight: 300;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: rgba(255,255,255,0.5);
    margin-bottom: 36px;
  }
  .lock-label {
    font-family: 'Jost', sans-serif;
    font-size: 11px;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: rgba(255,255,255,0.5);
    display: block;
    text-align: left;
    margin-bottom: 8px;
  }
  .lock-input {
    width: 100%;
    padding: 14px 16px;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.2);
    background: rgba(255,255,255,0.1);
    color: var(--white);
    font-family: 'Jost', sans-serif;
    font-size: 16px;
    outline: none;
    margin-bottom: 16px;
    transition: border-color 0.2s;
  }
  .lock-input:focus { border-color: var(--teal-light); }
  .lock-input::placeholder { color: rgba(255,255,255,0.3); }
  .lock-btn {
    width: 100%;
    padding: 14px;
    border-radius: 10px;
    border: none;
    background: var(--teal);
    color: white;
    font-family: 'Jost', sans-serif;
    font-size: 13px;
    font-weight: 400;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    cursor: pointer;
    transition: background 0.2s;
  }
  .lock-btn:hover { background: var(--teal-dark); }
  @keyframes lockShake {
    0%,100% { transform: translateX(0); }
    20%      { transform: translateX(-8px); }
    40%      { transform: translateX(8px); }
    60%      { transform: translateX(-6px); }
    80%      { transform: translateX(6px); }
  }
  .lock-card.shake { animation: lockShake 0.4s ease; }
  .lock-input.error { border-color: var(--coral-light) !important; }
  .lock-error {
    margin-top: 12px;
    font-family: 'Jost', sans-serif;
    font-size: 13px;
    color: var(--coral-light);
    min-height: 18px;
    text-align: center;
  }

  /* ---- GUEST BANNER ---- */
  .guest-banner {
    position: fixed;
    top: 64px;
    left: 0; right: 0;
    z-index: 99;
    background: var(--teal-deep);
    color: rgba(255,255,255,0.8);
    text-align: center;
    font-family: 'Jost', sans-serif;
    font-size: 11px;
    font-weight: 300;
    letter-spacing: 2px;
    text-transform: uppercase;
    padding: 9px 16px;
    border-bottom: 1px solid rgba(255,255,255,0.12);
  }
  body.banner-visible #page-stay,
  body.banner-visible #page-book,
  body.banner-visible #page-restaurants,
  body.banner-visible #page-explore,
  body.banner-visible #page-events,
  body.banner-visible #page-guestbook,
  body.banner-visible #page-maintenance { padding-top: 100px; }

  /* ---- FORECAST SECTION ---- */
  .forecast-section {
    background: var(--teal-deep);
    padding: 28px 24px;
  }
  .forecast-inner {
    max-width: 900px;
    margin: 0 auto;
  }
  .forecast-eyebrow {
    font-size: 9px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: rgba(255,255,255,0.5);
    margin-bottom: 14px;
    text-align: center;
  }
  .forecast-strip {
    display: flex;
    justify-content: center;
    gap: 0;
  }
  .forecast-day {
    flex: 1;
    text-align: center;
    padding: 14px 8px;
    color: white;
    border-right: 1px solid rgba(255,255,255,0.08);
  }
  .forecast-day:last-child { border-right: none; }
  .forecast-day-name {
    font-size: 10px;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    opacity: 0.55;
    margin-bottom: 10px;
  }
  .forecast-icon { font-size: 28px; margin-bottom: 8px; }
  .forecast-hi {
    font-family: 'Cormorant Garamond', serif;
    font-size: 22px;
    font-weight: 300;
  }
  .forecast-lo { font-size: 12px; opacity: 0.45; margin-top: 3px; }

  /* ---- TIDES SECTION ---- */
  .tides-section {
    background: var(--sand);
    padding: 48px 24px 56px;
  }
  .tides-inner {
    max-width: 900px;
    margin: 0 auto;
  }
  .tides-header {
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    margin-bottom: 24px;
    flex-wrap: wrap;
    gap: 10px;
  }
  .tides-eyebrow {
    font-size: 10px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--teal);
    margin-bottom: 5px;
  }
  .tides-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 30px;
    font-weight: 300;
    color: var(--text);
    line-height: 1;
  }
  .tides-date {
    font-size: 12px;
    color: var(--text-light);
    font-style: italic;
  }
  .tides-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 14px;
  }
  .tide-card {
    background: var(--white);
    border-radius: 18px;
    padding: 20px 16px;
    text-align: center;
    box-shadow: 0 2px 18px rgba(30,45,43,0.06);
  }
  .tide-arrow { font-size: 22px; margin-bottom: 6px; }
  .tide-type {
    font-size: 9px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--text-light);
    margin-bottom: 8px;
  }
  .tide-time {
    font-family: 'Cormorant Garamond', serif;
    font-size: 26px;
    font-weight: 300;
    color: var(--text);
    line-height: 1;
  }
  .tide-height {
    font-size: 12px;
    color: var(--text-light);
    margin-top: 5px;
  }
  .tide-label {
    display: inline-block;
    font-size: 9px;
    letter-spacing: 1px;
    padding: 2px 8px;
    border-radius: 10px;
    margin-top: 6px;
    font-weight: 500;
  }
  .tide-high { color: var(--teal-dark); background: rgba(42,171,158,0.12); }
  .tide-low  { color: var(--coral);     background: rgba(232,115,90,0.12); }

  /* ---- BEACH BADGE CARD ---- */
  .badge-highlight {
    display: inline-block;
    background: var(--teal-deep);
    color: white;
    font-size: 18px;
    font-family: 'Cormorant Garamond', serif;
    padding: 7px 16px;
    border-radius: 10px;
    margin-top: 6px;
    letter-spacing: 1px;
  }

  /* ---- CHECKOUT CHECKLIST ---- */
  .checklist-progress-wrap {
    height: 4px;
    background: var(--sand-dark);
    border-radius: 2px;
    margin-bottom: 18px;
    overflow: hidden;
  }
  .checklist-progress-bar {
    height: 100%;
    background: var(--teal);
    border-radius: 2px;
    transition: width 0.35s ease;
  }
  .checklist-item {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 11px 0;
    border-bottom: 1px solid var(--sand);
    cursor: pointer;
    user-select: none;
    transition: opacity 0.2s;
  }
  .checklist-item:last-child { border-bottom: none; }
  .checklist-box {
    width: 22px;
    height: 22px;
    border: 2px solid var(--sand-dark);
    border-radius: 6px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    color: white;
    font-size: 13px;
  }
  .checklist-item.done .checklist-box { background: var(--teal); border-color: var(--teal); }
  .checklist-text { font-size: 14px; color: var(--text); font-weight: 300; line-height: 1.4; }
  .checklist-item.done .checklist-text { text-decoration: line-through; color: var(--text-light); }
  .checklist-reset {
    background: none;
    border: 1px solid var(--sand-dark);
    border-radius: 8px;
    padding: 6px 14px;
    font-family: 'Jost', sans-serif;
    font-size: 11px;
    letter-spacing: 1px;
    color: var(--text-light);
    cursor: pointer;
    transition: all 0.2s;
  }
  .checklist-reset:hover { border-color: var(--coral); color: var(--coral); }

  /* ---- EVENTS PAGE ---- */
  #page-events { background: var(--sand); padding-top: 64px; }
  .events-filter { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 32px; }
  .event-pill {
    padding: 8px 16px;
    border-radius: 20px;
    border: 1px solid var(--sand-dark);
    background: var(--white);
    font-size: 11px;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--text-light);
    cursor: pointer;
    transition: all 0.2s;
    font-family: 'Jost', sans-serif;
  }
  .event-pill:hover { border-color: var(--teal); color: var(--teal); }
  .event-pill.active { background: var(--teal); border-color: var(--teal); color: white; }
  .events-date-group { margin-bottom: 32px; }
  .events-date-label {
    font-family: 'Cormorant Garamond', serif;
    font-size: 22px;
    font-weight: 300;
    color: var(--text);
    margin-bottom: 14px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--sand-dark);
  }
  .event-card {
    background: var(--white);
    border-radius: 16px;
    padding: 20px;
    margin-bottom: 12px;
    display: flex;
    gap: 18px;
    align-items: flex-start;
    box-shadow: 0 2px 16px rgba(30,45,43,0.05);
    transition: transform 0.15s, box-shadow 0.15s;
  }
  .event-card:hover { transform: translateY(-2px); box-shadow: 0 6px 24px rgba(30,45,43,0.1); }
  .event-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    flex-shrink: 0;
  }
  .event-body { flex: 1; min-width: 0; }
  .event-name { font-size: 16px; font-weight: 400; color: var(--text); margin-bottom: 4px; }
  .event-meta { font-size: 12px; color: var(--text-light); margin-bottom: 6px; line-height: 1.6; }
  .event-desc { font-size: 13px; color: var(--text-light); font-weight: 300; line-height: 1.65; }
  .event-tag {
    display: inline-block;
    font-size: 9px;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    padding: 3px 10px;
    border-radius: 20px;
    margin-top: 8px;
    font-weight: 500;
  }
  .event-tag-free { background: rgba(42,171,158,0.12); color: var(--teal-dark); }
  .event-tag-paid { background: rgba(232,115,90,0.12); color: var(--coral); }

  /* ---- GUEST BOOK PAGE ---- */
  #page-guestbook { background: var(--sand); padding-top: 64px; }
  .guestbook-layout {
    display: grid;
    grid-template-columns: 1fr 360px;
    gap: 28px;
    align-items: start;
  }
  .guestbook-entry {
    background: var(--white);
    border-radius: 18px;
    padding: 26px;
    margin-bottom: 16px;
    box-shadow: 0 2px 18px rgba(30,45,43,0.06);
  }
  .guestbook-entry-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 12px;
    gap: 10px;
  }
  .guestbook-name {
    font-family: 'Cormorant Garamond', serif;
    font-size: 21px;
    font-weight: 400;
    color: var(--text);
  }
  .guestbook-dates { font-size: 11px; color: var(--text-light); margin-top: 2px; letter-spacing: 0.5px; }
  .guestbook-stars { color: var(--sun); font-size: 17px; letter-spacing: 1px; flex-shrink: 0; }
  .guestbook-message {
    font-size: 14px;
    color: var(--text);
    font-weight: 300;
    line-height: 1.75;
    font-style: italic;
  }
  .guestbook-timestamp {
    font-size: 10px;
    color: var(--text-light);
    margin-top: 14px;
    letter-spacing: 1px;
    text-transform: uppercase;
  }
  .star-selector { display: flex; gap: 4px; }
  .star-btn {
    font-size: 26px;
    color: var(--sand-mid);
    cursor: pointer;
    background: none;
    border: none;
    padding: 2px;
    transition: color 0.15s;
    line-height: 1;
  }
  .star-btn.lit { color: var(--sun); }

  @media (max-width: 820px) {
    .tides-grid { grid-template-columns: repeat(2, 1fr); }
    .forecast-day { padding: 12px 4px; }
    .forecast-icon { font-size: 22px; }
    .forecast-hi { font-size: 18px; }
    .guestbook-layout { grid-template-columns: 1fr; }
  }
  </style>
</head>
<body>

<!-- ===================== LOCK SCREEN ===================== -->
<div id="lockScreen">
  <div class="lock-card">
    <div class="lock-logo">The <span>Breakwater</span></div>
    <div class="lock-subtitle">Guest App &middot; Avalon, NJ</div>
    <label class="lock-label" for="lockPwd">Password</label>
    <input class="lock-input" type="password" id="lockPwd" placeholder="Enter guest password" autocomplete="current-password">
    <button class="lock-btn" onclick="checkPassword()">Enter</button>
    <div class="lock-error" id="lockError"></div>
  </div>
</div>

<!-- ===================== NAVIGATION ===================== -->
<nav class="nav">
  <div class="nav-logo" onclick="showPage('home', document.querySelector('.nav-tabs button'))">
    The <span>Breakwater</span>
  </div>
  <ul class="nav-tabs" id="navTabs">
    <li><button class="active" onclick="showPage('home', this)">Home</button></li>
    <li><button onclick="showPage('stay', this)">My Stay</button></li>
    <li><button onclick="showPage('book', this)">Book</button></li>
    <li><button onclick="showPage('restaurants', this)">Restaurants</button></li>
    <li><button onclick="showPage('explore', this)">Explore</button></li>
    <li><button onclick="showPage('events', this)">Events</button></li>
    <li><button onclick="showPage('guestbook', this)">Guest Book</button></li>
    <li><button onclick="showPage('maintenance', this)">Maintenance</button></li>
  </ul>
  <div class="nav-hamburger" id="hamburger" onclick="toggleMenu()" aria-label="Menu">
    <span></span><span></span><span></span>
  </div>
</nav>

<!-- ===================== GUEST BANNER ===================== -->
<div class="guest-banner" id="guestBanner" style="display:none"></div>

<!-- ===================== HOME PAGE ===================== -->
<div id="page-home" class="page active">
  <section class="hero">
    <div class="sun-orb"></div>
    <div class="bubble" style="left:7%;width:14px;height:14px;animation-duration:7s;animation-delay:0s"></div>
    <div class="bubble" style="left:17%;width:8px;height:8px;animation-duration:9s;animation-delay:1.2s"></div>
    <div class="bubble" style="left:34%;width:20px;height:20px;animation-duration:11s;animation-delay:2.5s"></div>
    <div class="bubble" style="left:54%;width:10px;height:10px;animation-duration:8s;animation-delay:3s"></div>
    <div class="bubble" style="left:69%;width:16px;height:16px;animation-duration:10s;animation-delay:1.5s"></div>
    <div class="bubble" style="left:84%;width:7px;height:7px;animation-duration:6s;animation-delay:4s"></div>
    <div class="bubble" style="left:27%;width:12px;height:12px;animation-duration:12s;animation-delay:0.8s"></div>

    <div class="hero-content">
      <div class="hero-eyebrow">T3D Properties &middot; Avalon, New Jersey</div>
      <h1 class="hero-title">The Breakwater</h1>
      <p class="hero-subtitle" id="heroSubtitle">Your oceanside retreat</p>

      <div class="hero-cards">
        <div class="hero-card">
          <div class="hero-card-label">Check In</div>
          <div class="hero-card-value" id="heroCheckin">Aug 8</div>
          <div class="hero-card-value">Aug 8</div>
          <div class="hero-card-sub">Saturday &middot; 3:00 PM</div>
        </div>
        <div class="hero-card">
          <div class="hero-card-label">Check Out</div>
          <div class="hero-card-value" id="heroCheckout">Aug 15</div>
          <div class="hero-card-value">Aug 15</div>
          <div class="hero-card-sub">Saturday &middot; 10:00 AM</div>
        </div>
        <div class="hero-card">
          <div class="hero-card-label">Guests</div>
          <div class="hero-card-value" id="heroGuests">6</div>
          <div class="hero-card-sub" id="heroGuestsSub">4 adults &middot; 2 children</div>
        </div>
        <div class="hero-card">
          <div class="hero-card-label">Address</div>
          <div class="hero-card-value" style="font-size:17px">34 W. 13th St.</div>
          <div class="hero-card-sub">Avalon, NJ 08202</div>
        </div>
      </div>

      <div class="countdown-heading" id="countdownHeading">Until your check-in</div>
      <div class="countdown-widget" id="countdownWidget">
        <div class="countdown-unit">
          <div class="countdown-number" id="cdDays">--</div>
          <div class="countdown-label">Days</div>
        </div>
        <div class="countdown-unit">
          <div class="countdown-number" id="cdHours">--</div>
          <div class="countdown-label">Hours</div>
        </div>
        <div class="countdown-unit">
          <div class="countdown-number" id="cdMins">--</div>
          <div class="countdown-label">Minutes</div>
        </div>
        <div class="countdown-unit">
          <div class="countdown-number" id="cdSecs">--</div>
          <div class="countdown-label">Seconds</div>
        </div>
      </div>

      <div class="hero-cta">
        <button class="btn btn-primary" onclick="showPage('stay', document.querySelectorAll('.nav-tabs button')[1])">View My Stay</button>
        <button class="btn btn-outline" onclick="showPage('explore', document.querySelectorAll('.nav-tabs button')[4])">Explore Avalon</button>
      </div>
    </div>

    <div class="hero-scroll" onclick="document.querySelector('.conditions-section').scrollIntoView({behavior:'smooth'})">
      <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
      </svg>
      <span>Scroll</span>
    </div>
  </section>

  <!-- Beach Conditions Strip -->
  <section class="conditions-section">
    <div class="conditions-header" id="conditionsHeader">Forecast for your stay &mdash; Avalon, NJ &middot; Aug 8&ndash;15, 2026</div>
    <div class="conditions-strip">
      <div class="conditions-item">
        <div class="conditions-icon">&#9925;</div>
        <div class="conditions-value">83&deg;</div>
        <div class="conditions-label">Air Temp (F)</div>
        <div class="conditions-badge">Warm &amp; Sunny</div>
      </div>
      <div class="conditions-divider"></div>
      <div class="conditions-item">
        <div class="conditions-icon">&#127754;</div>
        <div class="conditions-value">72&deg;</div>
        <div class="conditions-label">Water Temp (F)</div>
        <div class="conditions-badge">Perfect for swimming</div>
      </div>
      <div class="conditions-divider"></div>
      <div class="conditions-item">
        <div class="conditions-icon">&#127940;</div>
        <div class="conditions-value">2&ndash;3 ft</div>
        <div class="conditions-label">Wave Height</div>
        <div class="conditions-badge">Ideal surf</div>
      </div>
      <div class="conditions-divider"></div>
      <div class="conditions-item">
        <div class="conditions-icon">&#127788;</div>
        <div class="conditions-value">SW 10</div>
        <div class="conditions-label">Wind (mph)</div>
        <div class="conditions-badge">Light &amp; Pleasant</div>
      </div>
      <div class="conditions-divider"></div>
      <div class="conditions-item">
        <div class="conditions-icon">&#9728;&#65039;</div>
        <div class="conditions-value">8</div>
        <div class="conditions-label">UV Index</div>
        <div class="conditions-badge">Sunscreen required</div>
      </div>
    </div>
  </section>

  <!-- 5-Day Forecast -->
  <section class="forecast-section">
    <div class="forecast-inner">
      <div class="forecast-eyebrow">5-Day Weather Forecast &middot; Avalon, NJ</div>
      <div class="forecast-strip">
        <div class="forecast-day">
          <div class="forecast-day-name">Sat</div>
          <div class="forecast-icon">&#9925;</div>
          <div class="forecast-hi">86&deg;</div>
          <div class="forecast-lo">74&deg;</div>
        </div>
        <div class="forecast-day">
          <div class="forecast-day-name">Sun</div>
          <div class="forecast-icon">&#9925;&#65039;</div>
          <div class="forecast-hi">84&deg;</div>
          <div class="forecast-lo">73&deg;</div>
        </div>
        <div class="forecast-day">
          <div class="forecast-day-name">Mon</div>
          <div class="forecast-icon">&#9928;&#65039;</div>
          <div class="forecast-hi">80&deg;</div>
          <div class="forecast-lo">70&deg;</div>
        </div>
        <div class="forecast-day">
          <div class="forecast-day-name">Tue</div>
          <div class="forecast-icon">&#127783;&#65039;</div>
          <div class="forecast-hi">78&deg;</div>
          <div class="forecast-lo">69&deg;</div>
        </div>
        <div class="forecast-day">
          <div class="forecast-day-name">Wed</div>
          <div class="forecast-icon">&#9925;</div>
          <div class="forecast-hi">88&deg;</div>
          <div class="forecast-lo">75&deg;</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Tides Today -->
  <section class="tides-section">
    <div class="tides-inner">
      <div class="tides-header">
        <div>
          <div class="tides-eyebrow">Avalon, NJ</div>
          <div class="tides-title">Today&rsquo;s Tides</div>
        </div>
        <div class="tides-date">Saturday, August 8 &middot; Lifeguards on duty 9am&ndash;5pm</div>
      </div>
      <div class="tides-grid">
        <div class="tide-card">
          <div class="tide-arrow">&#8595;</div>
          <div class="tide-type">Low Tide</div>
          <div class="tide-time">5:48 AM</div>
          <div class="tide-height">0.3 ft</div>
          <span class="tide-label tide-low">Low</span>
        </div>
        <div class="tide-card">
          <div class="tide-arrow">&#8593;</div>
          <div class="tide-type">High Tide</div>
          <div class="tide-time">12:06 PM</div>
          <div class="tide-height">4.8 ft</div>
          <span class="tide-label tide-high">High</span>
        </div>
        <div class="tide-card">
          <div class="tide-arrow">&#8595;</div>
          <div class="tide-type">Low Tide</div>
          <div class="tide-time">6:24 PM</div>
          <div class="tide-height">0.2 ft</div>
          <span class="tide-label tide-low">Low</span>
        </div>
        <div class="tide-card">
          <div class="tide-arrow">&#8593;</div>
          <div class="tide-type">High Tide</div>
          <div class="tide-time">12:38 AM</div>
          <div class="tide-height">4.5 ft</div>
          <span class="tide-label tide-high">High &mdash; Tomorrow</span>
        </div>
      </div>
    </div>
      </div>
    </div>

    <div class="hero-scroll" onclick="document.querySelector('.conditions-section').scrollIntoView({behavior:'smooth'})">
      <svg fill="none" viewBox="0 0 24 24" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
      </svg>
      <span>Scroll</span>
    </div>
  </section>

  <!-- Beach Conditions Strip -->
  <section class="conditions-section">
    <div class="conditions-header">Forecast for your stay &mdash; Avalon, NJ &middot; Aug 8&ndash;15, 2026</div>
    <div class="conditions-strip">
      <div class="conditions-item">
        <div class="conditions-icon">&#9925;</div>
        <div class="conditions-value">83&deg;</div>
        <div class="conditions-label">Air Temp (F)</div>
        <div class="conditions-badge">Warm &amp; Sunny</div>
      </div>
      <div class="conditions-divider"></div>
      <div class="conditions-item">
        <div class="conditions-icon">&#127754;</div>
        <div class="conditions-value">72&deg;</div>
        <div class="conditions-label">Water Temp (F)</div>
        <div class="conditions-badge">Perfect for swimming</div>
      </div>
      <div class="conditions-divider"></div>
      <div class="conditions-item">
        <div class="conditions-icon">&#127940;</div>
        <div class="conditions-value">2&ndash;3 ft</div>
        <div class="conditions-label">Wave Height</div>
        <div class="conditions-badge">Ideal surf</div>
      </div>
      <div class="conditions-divider"></div>
      <div class="conditions-item">
        <div class="conditions-icon">&#127788;</div>
        <div class="conditions-value">SW 10</div>
        <div class="conditions-label">Wind (mph)</div>
        <div class="conditions-badge">Light &amp; Pleasant</div>
      </div>
      <div class="conditions-divider"></div>
      <div class="conditions-item">
        <div class="conditions-icon">&#9728;&#65039;</div>
        <div class="conditions-value">8</div>
        <div class="conditions-label">UV Index</div>
        <div class="conditions-badge">Sunscreen required</div>
      </div>
    </div>
  </section>
</div>

<!-- ===================== MY STAY PAGE ===================== -->
<div id="page-stay" class="page">
  <div class="section">
    <div class="section-header">
      <div class="section-eyebrow">Your reservation</div>
      <h2 class="section-title">My Stay</h2>
      <p class="section-desc">Everything you need for a seamless stay at The Breakwater.</p>
    </div>

    <div class="stay-grid">

      <!-- Booking Confirmation -->
      <div class="stay-booking-card">
        <div class="booking-confirmation-tag" id="stayConfirmation">Confirmation #BW-2026-0808</div>
        <div class="booking-confirmation-tag">Confirmation #BW-2026-0808</div>
        <h3 style="font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:300;margin-bottom:4px">The Breakwater</h3>
        <p style="opacity:0.65;font-size:13px">103 E 19th St, Avalon, NJ 08202</p>
        <div class="booking-details">
          <div>
            <div class="booking-detail-label">Check In</div>
            <div class="booking-detail-value" id="stayCheckin">Aug 8, 2026</div>
            <div class="booking-detail-value">Aug 8, 2026</div>
            <div class="booking-detail-sub">Saturday &middot; 3:00 PM</div>
          </div>
          <div>
            <div class="booking-detail-label">Check Out</div>
            <div class="booking-detail-value" id="stayCheckout">Aug 15, 2026</div>
            <div class="booking-detail-value">Aug 15, 2026</div>
            <div class="booking-detail-sub">Saturday &middot; 10:00 AM</div>
          </div>
          <div>
            <div class="booking-detail-label">Duration</div>
            <div class="booking-detail-value">7 Nights</div>
            <div class="booking-detail-sub">Weekly rental</div>
          </div>
          <div>
            <div class="booking-detail-label">Guests</div>
            <div class="booking-detail-value" id="stayGuests">6</div>
            <div class="booking-detail-sub" id="stayGuestsSub">4 adults &middot; 2 children</div>
          </div>
        </div>
        <button class="gallery-trigger-btn" onclick="openGallery()">&#128247; View Property Photos</button>
      </div>

      <!-- Access & Check-In -->
      <div class="card">
        <h4 class="card-title">&#128273; Access &amp; Check-In</h4>
        <div class="info-row">
          <div class="info-icon">&#128663;</div>
          <div>
            <div class="info-label">Parking</div>
            <div class="info-value">2 spots in driveway</div>
            <div class="info-sub">Additional street parking on E 19th St</div>
          </div>
        </div>
        <div class="info-row">
          <div class="info-icon">&#128272;</div>
          <div>
            <div class="info-label">Door Code</div>
            <div class="code-display">4 2 8 1</div>
            <div class="info-sub" style="margin-top:8px">Keypad on front door</div>
          </div>
        </div>
        <div class="info-row">
          <div class="info-icon">&#128246;</div>
          <div>
            <div class="info-label">WiFi Network</div>
            <div class="info-value">Breakwater_Guest</div>
            <div class="code-display" style="font-size:15px;letter-spacing:3px;margin-top:8px">OceanView2025!</div>
          </div>
        </div>
        <div class="info-row">
          <div class="info-icon">&#128222;</div>
          <div>
            <div class="info-label">Property Manager</div>
            <div class="info-value">T3D Properties</div>
            <div class="info-sub">(609) 555-0184 &middot; 8am&ndash;9pm daily</div>
          </div>
        </div>
      </div>

      <!-- Amenities -->
      <div class="card">
        <h4 class="card-title">&#10024; Amenities</h4>
        <div class="amenities-grid">
          <div class="amenity-item"><span class="amenity-icon">&#127754;</span><span class="amenity-label">Beach Access</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#127944;</span><span class="amenity-label">Private Pool</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#9832;&#65039;</span><span class="amenity-label">Hot Tub</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#128250;</span><span class="amenity-label">Smart TV</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#128246;</span><span class="amenity-label">High-Speed WiFi</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#128703;</span><span class="amenity-label">Outdoor Shower</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#127859;</span><span class="amenity-label">Full Kitchen</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#127978;</span><span class="amenity-label">Deck &amp; Grill</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#128663;</span><span class="amenity-label">2 Parking Spots</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#127918;</span><span class="amenity-label">Game Room</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#128085;</span><span class="amenity-label">Washer/Dryer</span></div>
          <div class="amenity-item"><span class="amenity-icon">&#10052;&#65039;</span><span class="amenity-label">A/C &amp; Heat</span></div>
        </div>
      </div>

      <!-- Beach Badges -->
      <div class="card">
        <h4 class="card-title">&#127958; Avalon Beach Badges</h4>
        <div class="info-row">
          <div class="info-icon">&#127915;</div>
          <div>
            <div class="info-label">Requirement</div>
            <div class="info-value">Required daily, Memorial Day &ndash; Labor Day</div>
            <div class="info-sub">All guests 12 and older must display a badge</div>
          </div>
        </div>
        <div class="info-row">
          <div class="info-icon">&#128181;</div>
          <div>
            <div class="info-label">Pricing</div>
            <div class="badge-highlight">Daily $8 &nbsp;&middot;&nbsp; Weekly $22 &nbsp;&middot;&nbsp; Season $55</div>
          </div>
        </div>
        <div class="info-row">
          <div class="info-icon">&#128205;</div>
          <div>
            <div class="info-label">Nearest Purchase Location</div>
            <div class="info-value">19th St &amp; Ocean Dr beach entrance</div>
            <div class="info-sub">Open daily 9:00 AM &ndash; 5:00 PM &middot; Cash &amp; card accepted</div>
          </div>
        </div>
        <div class="info-row">
          <div class="info-icon">&#9888;&#65039;</div>
          <div>
            <div class="info-label">Pro Tip</div>
            <div class="info-value">Badges sell out on holiday weekends</div>
            <div class="info-sub">Buy early morning for best availability</div>
          </div>
        </div>
      </div>

      <!-- Checkout Checklist -->
      <div class="card" style="grid-column:1/-1">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px">
          <h4 class="card-title" style="margin-bottom:0">&#9989; Checkout Checklist</h4>
          <div style="display:flex;align-items:center;gap:12px">
            <span id="checklistProgress" style="font-size:12px;color:var(--text-light)">0 of 12 done</span>
            <button class="checklist-reset" onclick="resetChecklist()">Reset</button>
          </div>
        </div>
        <p style="font-size:12px;color:var(--text-light);margin-bottom:14px;font-weight:300">Check-out is at 10:00 AM. Complete these before you go!</p>
        <div class="checklist-progress-wrap"><div class="checklist-progress-bar" id="checklistBar" style="width:0%"></div></div>
        <div id="checklistItems"></div>
      </div>

      <!-- House Rules -->
      <div class="card" style="grid-column:1/-1">
        <h4 class="card-title">&#128203; House Rules</h4>
        <div style="columns:2;column-gap:32px">
          <div class="rule-item"><div class="rule-dot"></div><span>Check-in after 3:00 PM, check-out by 10:00 AM</span></div>
          <div class="rule-item"><div class="rule-dot"></div><span>No smoking indoors or on covered decks</span></div>
          <div class="rule-item"><div class="rule-dot"></div><span>No pets allowed on the property</span></div>
          <div class="rule-item"><div class="rule-dot"></div><span>Quiet hours 10:00 PM &ndash; 8:00 AM</span></div>
          <div class="rule-item"><div class="rule-dot"></div><span>Pool use restricted to registered guests only</span></div>
          <div class="rule-item"><div class="rule-dot"></div><span>No parties or gatherings over 12 guests</span></div>
          <div class="rule-item"><div class="rule-dot"></div><span>No open flame fires on the property</span></div>
          <div class="rule-item"><div class="rule-dot"></div><span>Rinse off at outdoor shower after beach</span></div>
          <div class="rule-item"><div class="rule-dot"></div><span>Place trash in bins on designated pickup days</span></div>
          <div class="rule-item"><div class="rule-dot"></div><span>Lock all doors and windows when leaving</span></div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- ===================== BOOKING PAGE ===================== -->
<div id="page-book" class="page">
  <div class="section">
    <div class="section-header">
      <div class="section-eyebrow">Plan your visit</div>
      <h2 class="section-title">Check Availability</h2>
      <p class="section-desc">Browse open dates and request your stay at The Breakwater.</p>
    </div>

    <div class="booking-layout">
      <!-- Calendar -->
      <div class="calendar-container">
        <div class="calendar-nav">
          <button onclick="prevMonth()" aria-label="Previous month">&#8249;</button>
          <span class="calendar-month" id="calMonth"></span>
          <button onclick="nextMonth()" aria-label="Next month">&#8250;</button>
        </div>
        <div class="calendar-grid" id="calGrid"></div>
        <div class="cal-legend">
          <div class="legend-item">
            <div class="legend-dot" style="background:var(--teal)"></div>Selected
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background:rgba(42,171,158,.14)"></div>In Range
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background:var(--sand-dark)"></div>Unavailable
          </div>
        </div>
      </div>

      <!-- Booking Sidebar -->
      <div class="booking-sidebar">
        <div class="card">
          <h4 class="card-title">Reserve Your Stay</h4>

          <div class="form-group">
            <label class="form-label">Check-In Date</label>
            <input type="text" id="checkinInput" class="form-input" placeholder="Select on calendar" readonly>
          </div>
          <div class="form-group">
            <label class="form-label">Check-Out Date</label>
            <input type="text" id="checkoutInput" class="form-input" placeholder="Select on calendar" readonly>
          </div>
          <div class="form-group">
            <label class="form-label">Adults</label>
            <select class="form-select" id="adultsSelect">
              <option>2 Adults</option>
              <option>3 Adults</option>
              <option selected>4 Adults</option>
              <option>5 Adults</option>
              <option>6 Adults</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Children</label>
            <select class="form-select">
              <option selected>0 Children</option>
              <option>1 Child</option>
              <option>2 Children</option>
              <option>3 Children</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Full Name</label>
            <input type="text" class="form-input" id="bookingName" placeholder="Jane Smith">
          </div>
          <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" class="form-input" id="bookingEmail" placeholder="jane@example.com">
          </div>
          <div class="form-group">
            <label class="form-label">Phone</label>
            <input type="tel" class="form-input" id="bookingPhone" placeholder="(555) 000-0000">
          </div>

          <div class="price-summary" id="priceSummary" style="display:none">
            <div class="price-row">
              <span id="priceNights">— nights &times; $895</span>
              <span id="priceBase">—</span>
            </div>
            <div class="price-row">
              <span>Cleaning fee</span>
              <span>$250</span>
            </div>
            <div class="price-row">
              <span>Service fee</span>
              <span id="priceService">—</span>
            </div>
            <div class="price-row total">
              <span>Total</span>
              <span id="priceTotal">—</span>
            </div>
          </div>

          <button class="btn btn-primary" style="width:100%;text-align:center;display:block" onclick="submitBooking()">
            Request Booking
          </button>
          <p style="font-size:11px;color:var(--text-light);text-align:center;margin-top:10px">You won&rsquo;t be charged yet</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ===================== RESTAURANTS PAGE ===================== -->
<div id="page-restaurants" class="page">
  <div class="section">
    <div class="section-header">
      <div class="section-eyebrow">Avalon &amp; Stone Harbor</div>
      <h2 class="section-title">Local Dining</h2>
      <p class="section-desc">The best restaurants near The Breakwater, curated by T3D Properties.</p>
    </div>

    <div class="restaurants-grid">

      <div class="restaurant-card">
        <div class="restaurant-img" style="background:linear-gradient(135deg,#1d4e4a,#2aab9e)">
          &#129362;
          <span class="restaurant-cuisine-tag">Seafood &middot; BYOB</span>
          <span class="restaurant-price-tag">$$$</span>
        </div>
        <div class="restaurant-body">
          <div class="restaurant-name">The Diving Horse</div>
          <div class="restaurant-desc">Upscale farm-to-table dining with locally sourced seafood and seasonal menus. One of Avalon's most celebrated restaurants.</div>
          <div class="restaurant-meta">
            <span class="restaurant-meta-item">&#128205; 2109 Dune Dr, Avalon</span>
            <span class="restaurant-meta-item">&#128336; 5:00 PM &ndash; 9:30 PM</span>
            <span class="restaurant-meta-item">&#128222; (609) 368-5000</span>
          </div>
          <div class="restaurant-actions">
            <button class="btn btn-teal btn-sm" onclick="openReservation('The Diving Horse')">Reserve a Table</button>
            <button class="btn btn-ghost btn-sm" onclick="callRestaurant('6093685000')">Call</button>
          </div>
        </div>
      </div>

      <div class="restaurant-card">
        <div class="restaurant-img" style="background:linear-gradient(135deg,#4a3010,#c87020)">
          &#127866;
          <span class="restaurant-cuisine-tag">American &middot; Bar</span>
          <span class="restaurant-price-tag">$$</span>
        </div>
        <div class="restaurant-body">
          <div class="restaurant-name">Whitebrier Restaurant &amp; Bar</div>
          <div class="restaurant-desc">A beloved Avalon institution. Classic American fare, cold drinks, and a lively atmosphere that captures the spirit of the Jersey Shore.</div>
          <div class="restaurant-meta">
            <span class="restaurant-meta-item">&#128205; 7400 Dune Dr, Avalon</span>
            <span class="restaurant-meta-item">&#128336; 11:00 AM &ndash; 12:00 AM</span>
            <span class="restaurant-meta-item">&#128222; (609) 368-2000</span>
          </div>
          <div class="restaurant-actions">
            <button class="btn btn-teal btn-sm" onclick="openReservation('Whitebrier Restaurant &amp; Bar')">Reserve a Table</button>
            <button class="btn btn-ghost btn-sm" onclick="callRestaurant('6093682000')">Call</button>
          </div>
        </div>
      </div>

      <div class="restaurant-card">
        <div class="restaurant-img" style="background:linear-gradient(135deg,#1a3050,#2060a0)">
          &#127828;
          <span class="restaurant-cuisine-tag">Bar &amp; Grill</span>
          <span class="restaurant-price-tag">$$</span>
        </div>
        <div class="restaurant-body">
          <div class="restaurant-name">Fred's Tavern</div>
          <div class="restaurant-desc">A Shore institution since 1947. Known for legendary burgers, the famous "Fredburger," ice cold drafts, and no-frills charm. A must-visit.</div>
          <div class="restaurant-meta">
            <span class="restaurant-meta-item">&#128205; 501 96th St, Stone Harbor</span>
            <span class="restaurant-meta-item">&#128336; 11:30 AM &ndash; 11:00 PM</span>
            <span class="restaurant-meta-item">&#128222; (609) 368-5591</span>
          </div>
          <div class="restaurant-actions">
            <button class="btn btn-teal btn-sm" onclick="openReservation(&quot;Fred's Tavern&quot;)">Reserve a Table</button>
            <button class="btn btn-ghost btn-sm" onclick="callRestaurant('6093685591')">Call</button>
          </div>
        </div>
      </div>

      <div class="restaurant-card">
        <div class="restaurant-img" style="background:linear-gradient(135deg,#2a1a40,#6030a0)">
          &#127754;
          <span class="restaurant-cuisine-tag">Seafood &middot; Waterfront</span>
          <span class="restaurant-price-tag">$$$</span>
        </div>
        <div class="restaurant-body">
          <div class="restaurant-name">Princeton Bar &amp; Grill</div>
          <div class="restaurant-desc">Casual waterfront dining with stunning bay views, fresh seafood, and an extensive cocktail menu. Perfect for sunset dinners.</div>
          <div class="restaurant-meta">
            <span class="restaurant-meta-item">&#128205; 9601 3rd Ave, Stone Harbor</span>
            <span class="restaurant-meta-item">&#128336; 12:00 PM &ndash; 10:00 PM</span>
            <span class="restaurant-meta-item">&#128222; (609) 368-1300</span>
          </div>
          <div class="restaurant-actions">
            <button class="btn btn-teal btn-sm" onclick="openReservation('Princeton Bar &amp; Grill')">Reserve a Table</button>
            <button class="btn btn-ghost btn-sm" onclick="callRestaurant('6093681300')">Call</button>
          </div>
        </div>
      </div>

      <div class="restaurant-card">
        <div class="restaurant-img" style="background:linear-gradient(135deg,#1a3a18,#388a30)">
          &#9749;
          <span class="restaurant-cuisine-tag">Caf&eacute; &middot; Breakfast</span>
          <span class="restaurant-price-tag">$</span>
        </div>
        <div class="restaurant-body">
          <div class="restaurant-name">Avalon Coffee</div>
          <div class="restaurant-desc">Start your morning with artisan coffee, fresh pastries, and hearty breakfast bowls. A favorite for early risers before hitting the beach.</div>
          <div class="restaurant-meta">
            <span class="restaurant-meta-item">&#128205; 3104 Dune Dr, Avalon</span>
            <span class="restaurant-meta-item">&#128336; 7:00 AM &ndash; 2:00 PM</span>
            <span class="restaurant-meta-item">&#128222; (609) 967-7700</span>
          </div>
          <div class="restaurant-actions">
            <button class="btn btn-teal btn-sm" onclick="openReservation('Avalon Coffee')">Reserve a Table</button>
            <button class="btn btn-ghost btn-sm" onclick="callRestaurant('6099677700')">Call</button>
          </div>
        </div>
      </div>

      <div class="restaurant-card">
        <div class="restaurant-img" style="background:linear-gradient(135deg,#3a1010,#a82020)">
          &#127829;
          <span class="restaurant-cuisine-tag">Italian &middot; Deli</span>
          <span class="restaurant-price-tag">$$</span>
        </div>
        <div class="restaurant-body">
          <div class="restaurant-name">Casel's Market &amp; Caf&eacute;</div>
          <div class="restaurant-desc">A shore staple since 1942. Gourmet deli, handmade pasta, wood-fired pizzas, and a wine shop. Perfect for a relaxed casual dinner.</div>
          <div class="restaurant-meta">
            <span class="restaurant-meta-item">&#128205; 2888 Ocean Dr, Avalon</span>
            <span class="restaurant-meta-item">&#128336; 8:00 AM &ndash; 9:00 PM</span>
            <span class="restaurant-meta-item">&#128222; (609) 967-7007</span>
          </div>
          <div class="restaurant-actions">
            <button class="btn btn-teal btn-sm" onclick="openReservation('Casel\'s Market &amp; Café')">Reserve a Table</button>
            <button class="btn btn-ghost btn-sm" onclick="callRestaurant('6099677007')">Call</button>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- ===================== EXPLORE PAGE ===================== -->
<div id="page-explore" class="page">
  <div class="section">
    <div class="section-header">
      <div class="section-eyebrow">Things to do</div>
      <h2 class="section-title">Explore Avalon</h2>
      <p class="section-desc">The best beaches, activities, and hidden gems near The Breakwater, curated for your stay.</p>
    </div>

    <div class="explore-filters">
      <button class="filter-pill active" onclick="filterExplore('all', this)">All</button>
      <button class="filter-pill" onclick="filterExplore('beach', this)">&#127754; Beaches</button>
      <button class="filter-pill" onclick="filterExplore('water', this)">&#127940; Water Sports</button>
      <button class="filter-pill" onclick="filterExplore('family', this)">&#128106; Family</button>
      <button class="filter-pill" onclick="filterExplore('shopping', this)">&#128717; Shopping</button>
      <button class="filter-pill" onclick="filterExplore('sightseeing', this)">&#127966; Sightseeing</button>
    </div>

    <div class="explore-grid">

      <!-- BEACHES -->
      <div class="explore-card" data-category="beach">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#0a3050,#1a80c0)">
          &#127754;
          <span class="explore-dist-badge">0.1 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">19th Street Beach</div>
          <div class="explore-card-desc">Your closest beach — just a one-minute walk from the front door. A quieter stretch of Avalon's pristine coastline, perfect for morning walks and sunsets.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-beach">Beach</span>
            <span class="explore-tag tag-free">Free</span>
          </div>
          <div class="explore-meta">
            <span>Lifeguards in season</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <div class="explore-card" data-category="beach">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#083a5a,#1a70a8)">
          &#127958;
          <span class="explore-dist-badge">0.9 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">8th Street Beach</div>
          <div class="explore-card-desc">One of Avalon's widest, most family-friendly beaches. Ample space, volleyball courts, and a dedicated lifeguard stand make it a summer staple.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-beach">Beach</span>
            <span class="explore-tag tag-family">Family</span>
            <span class="explore-tag tag-free">Free</span>
          </div>
          <div class="explore-meta">
            <span>Volleyball &amp; full facilities</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <div class="explore-card" data-category="beach">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#0a2840,#1a5890)">
          &#127787;
          <span class="explore-dist-badge">2.2 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Townsend's Inlet</div>
          <div class="explore-card-desc">A scenic inlet waterfront with stunning views across to Sea Isle City. Ideal for kite flying, paddle boarding, and watching the boats drift by. Far less crowded.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-beach">Beach</span>
            <span class="explore-tag tag-water">Kayaking</span>
            <span class="explore-tag tag-free">Free</span>
          </div>
          <div class="explore-meta">
            <span>Scenic &amp; uncrowded</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <!-- WATER SPORTS -->
      <div class="explore-card" data-category="water">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#155e56,#2aab9e)">
          &#127940;
          <span class="explore-dist-badge">0.5 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Barrier Island Surf School</div>
          <div class="explore-card-desc">Learn to surf from certified instructors on Avalon's best breaks. Board and wetsuit rentals available. Group lessons for all ages, private sessions available.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-water">Surf Lessons</span>
            <span class="explore-tag tag-family">Family</span>
          </div>
          <div class="explore-meta">
            <span>From $65/lesson &middot; (609) 967-3990</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <div class="explore-card" data-category="water">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#0a3a50,#1a7080)">
          &#128675;
          <span class="explore-dist-badge">1.1 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Avalon Kayak &amp; Paddle</div>
          <div class="explore-card-desc">Rent kayaks and paddleboards to explore Avalon's calm back bay waters. Guided eco-tours through the wetlands available daily. No experience necessary.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-water">Kayaking</span>
            <span class="explore-tag tag-water">Paddleboard</span>
          </div>
          <div class="explore-meta">
            <span>From $30/hr &middot; Rentals &amp; tours</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <div class="explore-card" data-category="water">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#1a2040,#3050a0)">
          &#128011;
          <span class="explore-dist-badge">15 mi south</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Cape May Whale Watch</div>
          <div class="explore-card-desc">Spot dolphins and humpback whales on a 3-hour offshore cruise departing from Cape May Harbor. Morning and afternoon departures. Reserve in advance — these sell out fast.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-water">Whale Watch</span>
            <span class="explore-tag tag-family">Family</span>
          </div>
          <div class="explore-meta">
            <span>$48/adult &middot; (609) 884-5445</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <!-- FAMILY -->
      <div class="explore-card" data-category="family">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#2a3a10,#5a8020)">
          &#129426;
          <span class="explore-dist-badge">12 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Cape May County Zoo</div>
          <div class="explore-card-desc">One of New Jersey's best kept secrets — a world-class zoo with over 550 animals and completely free admission. Spend a morning with the giraffes, zebras, and big cats.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-family">Family</span>
            <span class="explore-tag tag-free">Free Admission</span>
          </div>
          <div class="explore-meta">
            <span>Open daily 10am&ndash;4:45pm</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <div class="explore-card" data-category="family">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#1a3a30,#2a7060)">
          &#128034;
          <span class="explore-dist-badge">3 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">The Wetlands Institute</div>
          <div class="explore-card-desc">Hands-on nature center with live crabs, fish, and coastal wildlife. Walk the salt marsh trails, visit the observation tower, and watch wild herons from the boardwalk.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-family">Family</span>
            <span class="explore-tag tag-sightseeing">Nature</span>
          </div>
          <div class="explore-meta">
            <span>$10/adult &middot; Kids under 5 free</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <div class="explore-card" data-category="family">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#3a1a40,#8030a0)">
          &#9971;
          <span class="explore-dist-badge">0.8 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Avalon Mini Golf</div>
          <div class="explore-card-desc">Classic 18-hole mini golf with a coastal theme. Great for all ages — a beloved Shore tradition after a day at the beach. Open until 10pm on summer evenings.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-family">Family</span>
          </div>
          <div class="explore-meta">
            <span>$12/person &middot; No reservation needed</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <!-- SHOPPING -->
      <div class="explore-card" data-category="shopping">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#3a2a10,#8a6020)">
          &#127873;
          <span class="explore-dist-badge">0.3 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Dune Drive Boutiques</div>
          <div class="explore-card-desc">Stroll Avalon's main shopping strip lined with independent boutiques, surf shops, art galleries, and ice cream stands. The best place to pick up a souvenir or a new beach read.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-shopping">Shopping</span>
            <span class="explore-tag tag-family">Family</span>
          </div>
          <div class="explore-meta">
            <span>Open daily 9am&ndash;9pm</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <div class="explore-card" data-category="shopping">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#1a3a20,#3a8040)">
          &#127807;
          <span class="explore-dist-badge">1.2 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Avalon Farmers Market</div>
          <div class="explore-card-desc">Every Saturday morning, local farmers and artisans set up along the beachfront. Fresh produce, baked goods, local honey, handmade crafts, and fresh-squeezed juice.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-shopping">Market</span>
            <span class="explore-tag tag-family">Family</span>
          </div>
          <div class="explore-meta">
            <span>Saturdays 8am&ndash;12pm</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <!-- SIGHTSEEING -->
      <div class="explore-card" data-category="sightseeing">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#3a2a10,#c88020)">
          &#127956;
          <span class="explore-dist-badge">22 mi south</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Cape May Lighthouse</div>
          <div class="explore-card-desc">Climb 199 steps to the top of this iconic 1859 lighthouse for sweeping 360° views of Cape May Point, the Delaware Bay, and the Atlantic Ocean. A must-do day trip.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-sightseeing">Historic</span>
            <span class="explore-tag tag-family">Family</span>
          </div>
          <div class="explore-meta">
            <span>$10 to climb &middot; Open daily</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <div class="explore-card" data-category="sightseeing">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#1a2a40,#3a5080)">
          &#9875;
          <span class="explore-dist-badge">7 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Hereford Inlet Lighthouse</div>
          <div class="explore-card-desc">A gorgeous Victorian lighthouse in North Wildwood surrounded by beautifully maintained gardens. Free to visit the grounds; small fee to tour the interior. Spectacular at golden hour.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-sightseeing">Historic</span>
            <span class="explore-tag tag-free">Free Grounds</span>
          </div>
          <div class="explore-meta">
            <span>Open daily 9am&ndash;5pm</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

      <div class="explore-card" data-category="sightseeing">
        <div class="explore-card-img" style="background:linear-gradient(135deg,#0a3020,#1a6040)">
          &#129413;
          <span class="explore-dist-badge">4 mi away</span>
        </div>
        <div class="explore-card-body">
          <div class="explore-card-name">Stone Harbor Bird Sanctuary</div>
          <div class="explore-card-desc">One of only two municipally owned heronry sanctuaries in the world. Walk beneath towering trees filled with nesting herons and egrets — a uniquely magical experience, completely free.</div>
          <div class="explore-tags">
            <span class="explore-tag tag-sightseeing">Nature</span>
            <span class="explore-tag tag-free">Free Admission</span>
          </div>
          <div class="explore-meta">
            <span>Open daily &middot; Dawn to dusk</span>
            <span class="star-rating">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- ===================== EVENTS PAGE ===================== -->
<div id="page-events" class="page">
  <div class="section">
    <div class="section-header">
      <div class="section-eyebrow">Avalon &amp; Stone Harbor</div>
      <h2 class="section-title">Local Events</h2>
      <p class="section-desc">What&rsquo;s happening during your stay &mdash; curated for The Breakwater guests.</p>
    </div>

    <div class="events-filter" id="eventsFilter">
      <button class="event-pill active" onclick="filterEvents('all',this)">&#127381; All Events</button>
      <button class="event-pill" onclick="filterEvents('music',this)">&#127925; Music</button>
      <button class="event-pill" onclick="filterEvents('food',this)">&#127869;&#65039; Food &amp; Drink</button>
      <button class="event-pill" onclick="filterEvents('activity',this)">&#127940; Activities</button>
      <button class="event-pill" onclick="filterEvents('family',this)">&#128106; Family</button>
      <button class="event-pill" onclick="filterEvents('nature',this)">&#127807; Nature</button>
      <button class="event-pill" onclick="filterEvents('special',this)">&#10024; Special</button>
    </div>

    <div id="eventsList"></div>
  </div>
</div>

<!-- ===================== GUEST BOOK PAGE ===================== -->
<div id="page-guestbook" class="page">
  <div class="section">
    <div class="section-header">
      <div class="section-eyebrow">From our guests</div>
      <h2 class="section-title">Guest Book</h2>
      <p class="section-desc">Notes &amp; memories from those who&rsquo;ve called The Breakwater home. Leave one of your own!</p>
    </div>

    <div class="guestbook-layout">
      <!-- Entries -->
      <div id="guestbookEntries"></div>

      <!-- Submission Form -->
      <div style="position:sticky;top:80px">
        <div class="card">
          <h4 class="card-title">&#9998; Sign the Guest Book</h4>

          <div class="form-group">
            <label class="form-label">Your Name or Group</label>
            <input type="text" class="form-input" id="gbName" placeholder="The Smith Family">
          </div>
          <div class="form-group">
            <label class="form-label">Stay Dates <span style="font-size:10px;text-transform:none;letter-spacing:0">(optional)</span></label>
            <input type="text" class="form-input" id="gbDates" placeholder="Jul 12 &ndash; Jul 19, 2025">
          </div>
          <div class="form-group">
            <label class="form-label">Your Rating</label>
            <div class="star-selector" id="starSelector">
              <button class="star-btn lit" onclick="setRating(1)">&#9733;</button>
              <button class="star-btn lit" onclick="setRating(2)">&#9733;</button>
              <button class="star-btn lit" onclick="setRating(3)">&#9733;</button>
              <button class="star-btn lit" onclick="setRating(4)">&#9733;</button>
              <button class="star-btn lit" onclick="setRating(5)">&#9733;</button>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Your Message</label>
            <textarea class="textarea" id="gbMessage" placeholder="Share a highlight, a tip for future guests, or just say hello..." style="min-height:110px"></textarea>
          </div>
          <button class="btn btn-primary" style="width:100%;display:block;text-align:center" onclick="submitGuestBookEntry()">
            Sign the Guest Book
          </button>
          <p style="font-size:11px;color:var(--text-light);text-align:center;margin-top:10px">Your note will appear instantly for future guests</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ===================== MAINTENANCE PAGE ===================== -->
<div id="page-maintenance" class="page">
  <div class="section">
    <div class="section-header">
      <div class="section-eyebrow">Property support</div>
      <h2 class="section-title">Maintenance Requests</h2>
      <p class="section-desc">Submit an issue and our team will respond promptly, typically within a few hours.</p>
    </div>

    <div class="maintenance-layout">

      <!-- Submit Form -->
      <div class="card">
        <h4 class="card-title">Submit a Request</h4>

        <div class="form-group">
          <label class="form-label">Category</label>
          <div class="category-grid">
            <button class="category-btn" onclick="selectCategory(this, 'Plumbing')">
              <span class="cat-icon">&#128703;</span>
              <span class="cat-label">Plumbing</span>
            </button>
            <button class="category-btn" onclick="selectCategory(this, 'Electrical')">
              <span class="cat-icon">&#9889;</span>
              <span class="cat-label">Electrical</span>
            </button>
            <button class="category-btn" onclick="selectCategory(this, 'HVAC')">
              <span class="cat-icon">&#10052;&#65039;</span>
              <span class="cat-label">HVAC / A/C</span>
            </button>
            <button class="category-btn" onclick="selectCategory(this, 'Appliance')">
              <span class="cat-icon">&#127859;</span>
              <span class="cat-label">Appliance</span>
            </button>
            <button class="category-btn" onclick="selectCategory(this, 'Pool / Hot Tub')">
              <span class="cat-icon">&#127944;</span>
              <span class="cat-label">Pool / Hot Tub</span>
            </button>
            <button class="category-btn" onclick="selectCategory(this, 'Exterior')">
              <span class="cat-icon">&#127968;</span>
              <span class="cat-label">Exterior</span>
            </button>
            <button class="category-btn" onclick="selectCategory(this, 'Cleaning')">
              <span class="cat-icon">&#129529;</span>
              <span class="cat-label">Cleaning</span>
            </button>
            <button class="category-btn" onclick="selectCategory(this, 'Other')">
              <span class="cat-icon">&#128203;</span>
              <span class="cat-label">Other</span>
            </button>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Urgency</label>
          <select class="form-select" id="urgencySelect">
            <option value="low">Low &mdash; Not urgent, when convenient</option>
            <option value="medium" selected>Medium &mdash; Needs attention today</option>
            <option value="high">High &mdash; Urgent, affecting our stay</option>
            <option value="emergency">Emergency &mdash; Safety concern</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Description</label>
          <textarea class="textarea" id="maintenanceDesc" placeholder="Please describe the issue in detail..."></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">Your Name</label>
          <input type="text" class="form-input" id="maintenanceName" placeholder="Jane Smith">
        </div>

        <div class="form-group">
          <label class="form-label">Best Contact Number</label>
          <input type="tel" class="form-input" id="maintenancePhone" placeholder="(555) 000-0000">
        </div>

        <button class="btn btn-primary" style="width:100%;text-align:center;display:block" onclick="submitMaintenanceRequest()">
          Submit Request
        </button>
      </div>

      <!-- Request List + Emergency Contacts -->
      <div>
        <div class="card">
          <h4 class="card-title">Your Requests</h4>
          <div id="requestsList">
            <div class="request-item">
              <div class="request-header">
                <span class="request-title">Kitchen faucet dripping</span>
                <span class="status-badge status-resolved">Resolved</span>
              </div>
              <div class="request-date">Jun 28, 2026 &middot; Plumbing &middot; Low</div>
              <div class="request-desc">Cold water handle leaking at base. Fixed by maintenance same day.</div>
            </div>
            <div class="request-item">
              <div class="request-header">
                <span class="request-title">Pool pump making noise</span>
                <span class="status-badge status-progress">In Progress</span>
              </div>
              <div class="request-date">Aug 6, 2026 &middot; Pool / Hot Tub &middot; Medium</div>
              <div class="request-desc">Unusual grinding sound from pool pump. Technician scheduled for tomorrow morning.</div>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:22px">
          <h4 class="card-title">Emergency Contacts</h4>
          <div class="info-row">
            <div class="info-icon">&#128680;</div>
            <div>
              <div class="info-label">Emergency Services</div>
              <div class="info-value" style="font-size:22px;color:var(--coral)">911</div>
            </div>
          </div>
          <div class="info-row">
            <div class="info-icon">&#127968;</div>
            <div>
              <div class="info-label">T3D Properties &mdash; 24/7 Line</div>
              <div class="info-value">(609) 555-0184</div>
            </div>
          </div>
          <div class="info-row">
            <div class="info-icon">&#128295;</div>
            <div>
              <div class="info-label">Avalon Emergency Maintenance</div>
              <div class="info-value">(609) 555-0199</div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- ===================== PHOTO GALLERY MODAL ===================== -->
<div class="gallery-modal-overlay" id="galleryModal">
  <button class="gallery-close-btn" onclick="closeGallery()" aria-label="Close gallery">&#x2715;</button>
  <div class="gallery-wrapper">
    <button class="gallery-nav-btn prev" onclick="galleryPrev()" aria-label="Previous photo">&#8249;</button>
    <button class="gallery-nav-btn next" onclick="galleryNext()" aria-label="Next photo">&#8250;</button>
    <div class="gallery-main-img" id="galleryMainImg"></div>
    <div class="gallery-caption" id="galleryCaption"></div>
    <div class="gallery-caption-sub" id="galleryCaptionSub"></div>
    <div class="gallery-thumbs" id="galleryThumbs"></div>
    <div class="gallery-counter" id="galleryCounter"></div>
  </div>
</div>

<!-- ===================== RESTAURANT RESERVATION MODAL ===================== -->
<div class="modal-overlay" id="reservationModal">
  <div class="modal-box">
    <button class="modal-close" onclick="closeModal('reservationModal')" aria-label="Close">&#x2715;</button>
    <div class="modal-title" id="modalRestaurantName">Reserve a Table</div>
    <div class="modal-subtitle">Fill in your details and we&rsquo;ll send the request to the restaurant</div>

    <div class="form-group">
      <label class="form-label">Date</label>
      <input type="date" class="form-input" id="resDate">
    </div>
    <div class="form-group">
      <label class="form-label">Time</label>
      <select class="form-select" id="resTime">
        <option>12:00 PM</option>
        <option>12:30 PM</option>
        <option>1:00 PM</option>
        <option>5:00 PM</option>
        <option>5:30 PM</option>
        <option>6:00 PM</option>
        <option selected>6:30 PM</option>
        <option>7:00 PM</option>
        <option>7:30 PM</option>
        <option>8:00 PM</option>
        <option>8:30 PM</option>
        <option>9:00 PM</option>
      </select>
    </div>
    <div class="form-group">
      <label class="form-label">Party Size</label>
      <select class="form-select" id="resParty">
        <option>1 Guest</option>
        <option>2 Guests</option>
        <option>3 Guests</option>
        <option selected>4 Guests</option>
        <option>5 Guests</option>
        <option>6 Guests</option>
        <option>7 Guests</option>
        <option>8+ Guests</option>
      </select>
    </div>
    <div class="form-group">
      <label class="form-label">Name for Reservation</label>
      <input type="text" class="form-input" id="resName" placeholder="Jane Smith">
    </div>
    <div class="form-group">
      <label class="form-label">Phone</label>
      <input type="tel" class="form-input" id="resPhone" placeholder="(555) 000-0000">
    </div>
    <div class="form-group">
      <label class="form-label">Special Requests <span style="font-size:10px;text-transform:none;letter-spacing:0">(optional)</span></label>
      <textarea class="textarea" id="resNotes" placeholder="Dietary restrictions, special occasions, seating preference..." style="min-height:72px"></textarea>
    </div>

    <button class="btn btn-primary" style="width:100%;text-align:center;display:block" onclick="submitReservation()">
      Request Reservation
    </button>
    <p style="font-size:11px;color:var(--text-light);text-align:center;margin-top:10px">The restaurant will confirm your reservation within 24 hours</p>
  </div>
</div>

<!-- ===================== TOAST ===================== -->
<div class="toast" id="toast">
  <span id="toastMsg">Success</span>
</div>

<script>
  // ===================== PASSWORD LOCK =====================
  const SITE_PASSWORD = 'avalon'; // <-- change this to your guest password

  // ===================== GUEST PERSONALIZATION =====================
  const _params = new URLSearchParams(window.location.search);
  const GUEST_KEY = 'bw_guest';

  // Read guest info from URL params, falling back to localStorage
  let guestInfo = null;
  if (_params.get('guest') || _params.get('checkin') || _params.get('checkout')) {
    const rawName = _params.get('guest') || '';
    // Capitalize first letter of each word for display
    const displayName = rawName.replace(/\b\w/g, function(c) { return c.toUpperCase(); });
    guestInfo = {
      name:         displayName,
      checkin:      _params.get('checkin')  || '',
      checkout:     _params.get('checkout') || '',
      adults:       _params.get('adults')   || '',
      children:     _params.get('children') || '',
      confirmation: _params.get('conf')     || ''
    };
    localStorage.setItem(GUEST_KEY, JSON.stringify(guestInfo));
  } else {
    try { guestInfo = JSON.parse(localStorage.getItem(GUEST_KEY)); } catch(e) {}
  }

  // Auto-unlock when pw is included in the URL, or when a guest link is present
  if (_params.get('pw') === SITE_PASSWORD || _params.get('guest')) {
    localStorage.setItem('bw_auth', SITE_PASSWORD);
    document.getElementById('lockScreen').style.display = 'none';
  } else if (localStorage.getItem('bw_auth') === SITE_PASSWORD) {
    document.getElementById('lockScreen').style.display = 'none';
  }

  function _fmtShort(iso) {
    const d = new Date(iso + 'T12:00:00');
    if (isNaN(d.getTime())) return iso;
    return d.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
  }
  function _fmtLong(iso) {
    const d = new Date(iso + 'T12:00:00');
    if (isNaN(d.getTime())) return iso;
    return d.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
  }

  function applyPersonalization() {
    if (!guestInfo) return;
    const { name, checkin, checkout, adults, children, confirmation } = guestInfo;
    const ciShort = checkin  ? _fmtShort(checkin)  : '';
    const coShort = checkout ? _fmtShort(checkout) : '';
    const ciLong  = checkin  ? _fmtLong(checkin)   : '';
    const coLong  = checkout ? _fmtLong(checkout)  : '';
    const ciYear  = checkin  ? new Date(checkin + 'T12:00:00').getFullYear() : '';

    // Hero subtitle
    if (name) {
      const el = document.getElementById('heroSubtitle');
      if (el) el.textContent = 'Welcome, ' + name + '!';
    }
    // Hero date cards
    if (ciShort) { const el = document.getElementById('heroCheckin');  if (el) el.textContent = ciShort; }
    if (coShort) { const el = document.getElementById('heroCheckout'); if (el) el.textContent = coShort; }

    // Hero guest card
    if (adults) {
      const totalEl = document.getElementById('heroGuests');
      const subEl   = document.getElementById('heroGuestsSub');
      const total = parseInt(adults) + parseInt(children || 0);
      if (totalEl) totalEl.textContent = total;
      if (subEl) {
        let sub = adults + ' adult' + (parseInt(adults) !== 1 ? 's' : '');
        if (children && parseInt(children) > 0) sub += ' \u00b7 ' + children + ' child' + (parseInt(children) !== 1 ? 'ren' : '');
        subEl.textContent = sub;
      }
    }

    // Conditions header
    if (ciShort && coShort) {
      const el = document.getElementById('conditionsHeader');
      if (el) el.innerHTML = 'Forecast for your stay &mdash; Avalon, NJ &middot; ' + ciShort + '&ndash;' + coShort + (ciYear ? ', ' + ciYear : '');
    }

    // My Stay tab booking details
    if (ciLong)  { const el = document.getElementById('stayCheckin');  if (el) el.textContent = ciLong; }
    if (coLong)  { const el = document.getElementById('stayCheckout'); if (el) el.textContent = coLong; }

    // Confirmation number
    if (confirmation) {
      const el = document.getElementById('stayConfirmation');
      if (el) el.textContent = 'Confirmation #' + confirmation;
    }

    // My Stay guest count
    if (adults) {
      const gEl  = document.getElementById('stayGuests');
      const gsEl = document.getElementById('stayGuestsSub');
      const total = parseInt(adults) + parseInt(children || 0);
      if (gEl) gEl.textContent = total;
      if (gsEl) {
        let sub = adults + ' adult' + (parseInt(adults) !== 1 ? 's' : '');
        if (children && parseInt(children) > 0) sub += ' \u00b7 ' + children + ' child' + (parseInt(children) !== 1 ? 'ren' : '');
        gsEl.textContent = sub;
      }
    }

    // Guest banner text
    const banner = document.getElementById('guestBanner');
    if (banner && name) {
      let txt = name;
      if (ciShort && coShort) txt += ' \u00b7 ' + ciShort + '\u2013' + coShort;
      banner.textContent = txt;
    }
  }

  applyPersonalization();

  function checkPassword() {
    const val = document.getElementById('lockPwd').value.trim().toLowerCase();
    if (val === SITE_PASSWORD.toLowerCase()) {
      localStorage.setItem('bw_auth', SITE_PASSWORD);
      const lock = document.getElementById('lockScreen');
      lock.classList.add('unlocked');
      setTimeout(() => lock.style.display = 'none', 500);
    } else {
      const card  = document.querySelector('.lock-card');
      const input = document.getElementById('lockPwd');
      const err   = document.getElementById('lockError');
      err.textContent = 'Incorrect password. Please try again.';
      input.classList.add('error');
      card.classList.remove('shake');
      // Force reflow so the animation restarts if triggered twice in a row
      void card.offsetWidth;
      card.classList.add('shake');
      input.value = '';
      input.focus();
      card.addEventListener('animationend', () => card.classList.remove('shake'), { once: true });
    }
  }

  document.getElementById('lockPwd').addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
      checkPassword();
    } else {
      // Clear error state as soon as the user starts typing a new character
      this.classList.remove('error');
      document.getElementById('lockError').textContent = '';
    }
  });

  // ===================== NAVIGATION =====================
  function showPage(pageId, btn) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-tabs button').forEach(b => b.classList.remove('active'));
    document.getElementById('page-' + pageId).classList.add('active');
    if (btn) btn.classList.add('active');
    document.getElementById('navTabs').classList.remove('open');
    window.scrollTo({ top: 0, behavior: 'smooth' });
    // Show guest banner on all tabs except home
    const banner = document.getElementById('guestBanner');
    if (banner && guestInfo && guestInfo.name) {
      const show = pageId !== 'home';
      banner.style.display = show ? 'block' : 'none';
      document.body.classList.toggle('banner-visible', show);
    }
  }

  function toggleMenu() {
    document.getElementById('navTabs').classList.toggle('open');
  }

  // ===================== CALENDAR =====================
  let currentMonth = new Date().getMonth();
  let currentYear = new Date().getFullYear();
  let selectedStart = null;
  let selectedEnd = null;

  // Sample booked ranges (month is 0-indexed)
  const bookedRanges = [
    { start: new Date(2026, 4, 23), end: new Date(2026, 4, 30) },  // May 23–30
    { start: new Date(2026, 5, 13), end: new Date(2026, 5, 20) },  // Jun 13–20
    { start: new Date(2026, 5, 27), end: new Date(2026, 6, 4) },   // Jun 27–Jul 4
    { start: new Date(2026, 6, 11), end: new Date(2026, 6, 18) },  // Jul 11–18
    { start: new Date(2026, 7, 8),  end: new Date(2026, 7, 15) },  // Aug 8–15 (current booking)
    { start: new Date(2026, 7, 22), end: new Date(2026, 7, 29) },  // Aug 22–29
  ];

  function isBooked(date) {
    return bookedRanges.some(r => date >= r.start && date <= r.end);
  }

  function isPast(date) {
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    return date < today;
  }

  function renderCalendar() {
    const monthNames = ['January','February','March','April','May','June',
                        'July','August','September','October','November','December'];
    document.getElementById('calMonth').textContent = monthNames[currentMonth] + ' ' + currentYear;

    const grid = document.getElementById('calGrid');
    grid.innerHTML = '';

    ['Su','Mo','Tu','We','Th','Fr','Sa'].forEach(d => {
      const el = document.createElement('div');
      el.className = 'cal-day-name';
      el.textContent = d;
      grid.appendChild(el);
    });

    const firstDay = new Date(currentYear, currentMonth, 1).getDay();
    const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
    const today = new Date();
    today.setHours(0, 0, 0, 0);

    for (let i = 0; i < firstDay; i++) {
      const el = document.createElement('div');
      el.className = 'cal-day empty';
      grid.appendChild(el);
    }

    for (let day = 1; day <= daysInMonth; day++) {
      const date = new Date(currentYear, currentMonth, day);
      const el = document.createElement('div');
      let classes = 'cal-day';

      if (date.getTime() === today.getTime()) classes += ' today';

      if (isBooked(date) || isPast(date)) {
        classes += ' booked';
      } else {
        if (selectedStart && selectedEnd) {
          if (date.getTime() === selectedStart.getTime()) classes += ' range-start';
          else if (date.getTime() === selectedEnd.getTime()) classes += ' range-end';
          else if (date > selectedStart && date < selectedEnd) classes += ' in-range';
        } else if (selectedStart && date.getTime() === selectedStart.getTime()) {
          classes += ' selected';
        }
        el.onclick = () => selectDate(date);
      }

      el.className = classes;
      el.textContent = day;
      grid.appendChild(el);
    }

    updatePriceSummary();
  }

  function selectDate(date) {
    if (!selectedStart || (selectedStart && selectedEnd)) {
      selectedStart = date;
      selectedEnd = null;
    } else {
      if (date < selectedStart) {
        selectedEnd = selectedStart;
        selectedStart = date;
      } else if (date.getTime() === selectedStart.getTime()) {
        selectedStart = null;
      } else {
        // Make sure no booked date is in between
        let conflict = false;
        const d = new Date(selectedStart);
        d.setDate(d.getDate() + 1);
        while (d < date) {
          if (isBooked(d)) { conflict = true; break; }
          d.setDate(d.getDate() + 1);
        }
        if (conflict) {
          showToast('Selected range includes unavailable dates. Please choose another range.');
          selectedStart = date;
          selectedEnd = null;
        } else {
          selectedEnd = date;
        }
      }
    }
    updateInputs();
    renderCalendar();
  }

  function updateInputs() {
    const fmt = d => d ? d.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) : '';
    document.getElementById('checkinInput').value = fmt(selectedStart);
    document.getElementById('checkoutInput').value = fmt(selectedEnd);
  }

  function updatePriceSummary() {
    const summary = document.getElementById('priceSummary');
    if (selectedStart && selectedEnd) {
      const nights = Math.round((selectedEnd - selectedStart) / (1000 * 60 * 60 * 24));
      const ratePerNight = 895;
      const base = nights * ratePerNight;
      const cleaning = 250;
      const service = Math.round(base * 0.12);
      const total = base + cleaning + service;
      document.getElementById('priceNights').textContent = nights + ' night' + (nights !== 1 ? 's' : '') + ' \u00d7 $895';
      document.getElementById('priceBase').textContent = '$' + base.toLocaleString();
      document.getElementById('priceService').textContent = '$' + service.toLocaleString();
      document.getElementById('priceTotal').textContent = '$' + total.toLocaleString();
      summary.style.display = 'block';
    } else {
      summary.style.display = 'none';
    }
  }

  function prevMonth() {
    currentMonth--;
    if (currentMonth < 0) { currentMonth = 11; currentYear--; }
    renderCalendar();
  }

  function nextMonth() {
    currentMonth++;
    if (currentMonth > 11) { currentMonth = 0; currentYear++; }
    renderCalendar();
  }

  renderCalendar();

  // ===================== BOOKING SUBMISSION =====================
  function submitBooking() {
    if (!selectedStart || !selectedEnd) {
      return showToast('Please select check-in and check-out dates on the calendar.');
    }
    const name = document.getElementById('bookingName').value.trim();
    const email = document.getElementById('bookingEmail').value.trim();
    if (!name) return showToast('Please enter your full name.');
    if (!email || !email.includes('@')) return showToast('Please enter a valid email address.');

    const nights = Math.round((selectedEnd - selectedStart) / (1000 * 60 * 60 * 24));
    showToast('Booking request sent for ' + nights + ' night' + (nights !== 1 ? 's' : '') + '. We\'ll confirm within 24 hours!');
    selectedStart = null;
    selectedEnd = null;
    updateInputs();
    renderCalendar();
    document.getElementById('bookingName').value = '';
    document.getElementById('bookingEmail').value = '';
    document.getElementById('bookingPhone').value = '';
  }

  // ===================== EMAILJS CONFIG =====================
  // 1. Sign up free at https://www.emailjs.com
  // 2. Add an Email Service (Gmail or SMTP for info@t3dproperties.com) → copy the Service ID
  // 3. Create an Email Template with these variables:
  //      {{category}}, {{urgency}}, {{description}}, {{guest_name}}, {{guest_phone}}, {{submitted_at}}
  //    Set "To Email" in the template to: info@t3dproperties.com
  // 4. Copy your Public Key from Account → API Keys
  // 5. Replace the three placeholder values below
  const EMAILJS_PUBLIC_KEY   = '1QVzNvsStgjTfrm6H';
  const EMAILJS_SERVICE_ID   = 'service_whxl0h8';
  const EMAILJS_TEMPLATE_ID  = 'template_ct74aok';

  emailjs.init(EMAILJS_PUBLIC_KEY);

  // ===================== MAINTENANCE =====================
  let selectedCategory = '';

  function selectCategory(btn, category) {
    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');
    selectedCategory = category;
  }

  function submitMaintenanceRequest() {
    if (!selectedCategory) return showToast('Please select a category for your request.');
    const desc = document.getElementById('maintenanceDesc').value.trim();
    if (!desc) return showToast('Please describe the issue.');
    const name = document.getElementById('maintenanceName').value.trim();
    if (!name) return showToast('Please enter your name.');

    const urgency = document.getElementById('urgencySelect').value;
    const urgencyLabels = { low: 'Low', medium: 'Medium', high: 'High', emergency: 'Emergency' };
    const today = new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
    const phone = document.getElementById('maintenancePhone').value.trim();

    const submitBtn = document.querySelector('#page-maintenance .btn-primary');
    submitBtn.disabled = true;
    submitBtn.textContent = 'Sending…';

    emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, {
      category:     selectedCategory,
      urgency:      urgencyLabels[urgency],
      description:  desc,
      guest_name:   name,
      guest_phone:  phone || 'Not provided',
      submitted_at: today
    }).then(function() {
      // Add to local request history
      const list = document.getElementById('requestsList');
      const item = document.createElement('div');
      item.className = 'request-item';
      const shortDesc = desc.length > 50 ? desc.substring(0, 50) + '...' : desc;
      item.innerHTML =
        '<div class="request-header">' +
          '<span class="request-title">' + selectedCategory + ': ' + shortDesc + '</span>' +
          '<span class="status-badge status-open">Open</span>' +
        '</div>' +
        '<div class="request-date">' + today + ' &middot; ' + selectedCategory + ' &middot; ' + urgencyLabels[urgency] + '</div>' +
        '<div class="request-desc">' + desc + '</div>';
      list.prepend(item);

      showToast('Request submitted. Our team will be in touch shortly.');
      document.getElementById('maintenanceDesc').value = '';
      document.getElementById('maintenanceName').value = '';
      document.getElementById('maintenancePhone').value = '';
      document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('selected'));
      selectedCategory = '';
    }, function() {
      showToast('Could not send request. Please call us at (609) 555-0184.');
    }).finally(function() {
      submitBtn.disabled = false;
      submitBtn.textContent = 'Submit Request';
    });
  }

  // ===================== RESTAURANTS =====================
  function openReservation(restaurantName) {
    document.getElementById('modalRestaurantName').textContent = restaurantName;
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('resDate').value = today;
    document.getElementById('resDate').min = today;
    document.getElementById('reservationModal').classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  function closeModal(id) {
    document.getElementById(id).classList.remove('active');
    document.body.style.overflow = '';
  }

  function callRestaurant(digits) {
    window.location.href = 'tel:+1' + digits;
  }

  function submitReservation() {
    const name = document.getElementById('resName').value.trim();
    const date = document.getElementById('resDate').value;
    if (!name) return showToast('Please enter a name for the reservation.');
    if (!date) return showToast('Please select a date.');

    const restaurant = document.getElementById('modalRestaurantName').textContent;
    const time = document.getElementById('resTime').value;
    const party = document.getElementById('resParty').value;
    const dateFormatted = new Date(date + 'T12:00:00').toLocaleDateString('en-US', { month: 'short', day: 'numeric' });

    closeModal('reservationModal');
    showToast('Reservation requested at ' + restaurant + ' \u2014 ' + party + ', ' + dateFormatted + ' at ' + time);

    document.getElementById('resName').value = '';
    document.getElementById('resPhone').value = '';
    document.getElementById('resNotes').value = '';
  }

  // ===================== TOAST =====================
  let toastTimer = null;
  function showToast(msg) {
    const toast = document.getElementById('toast');
    document.getElementById('toastMsg').textContent = msg;
    toast.classList.add('show');
    if (toastTimer) clearTimeout(toastTimer);
    toastTimer = setTimeout(() => toast.classList.remove('show'), 3800);
  }

  // Close modal on overlay click
  document.getElementById('reservationModal').addEventListener('click', function(e) {
    if (e.target === this) closeModal('reservationModal');
  });

  // ===================== COUNTDOWN TIMER =====================
  let CHECK_IN  = new Date('2026-08-08T15:00:00');
  let CHECK_OUT = new Date('2026-08-15T10:00:00');
  if (guestInfo && guestInfo.checkin) {
    const ci = new Date(guestInfo.checkin + 'T15:00:00');
    if (!isNaN(ci.getTime())) CHECK_IN = ci;
  }
  if (guestInfo && guestInfo.checkout) {
    const co = new Date(guestInfo.checkout + 'T10:00:00');
    if (!isNaN(co.getTime())) CHECK_OUT = co;
  }
  const CHECK_IN  = new Date('2026-08-08T15:00:00');
  const CHECK_OUT = new Date('2026-08-15T10:00:00');

  function updateCountdown() {
    const now = new Date();
    const heading = document.getElementById('countdownHeading');
    const widget  = document.getElementById('countdownWidget');
    let target, label;

    if (now < CHECK_IN) {
      target = CHECK_IN;
      label  = 'Until your check-in';
    } else if (now < CHECK_OUT) {
      target = CHECK_OUT;
      label  = 'Until check-out';
    } else {
      heading.textContent = 'Hope to see you again soon';
      widget.innerHTML    = '<div style="font-family:\'Cormorant Garamond\',serif;font-size:22px;font-style:italic;color:rgba(255,255,255,0.75)">Thank you for staying with us</div>';
      return;
    }

    heading.textContent = label;
    const diff = target - now;
    const days  = Math.floor(diff / 864e5);
    const hours = Math.floor((diff % 864e5) / 36e5);
    const mins  = Math.floor((diff % 36e5) / 6e4);
    const secs  = Math.floor((diff % 6e4) / 1e3);

    document.getElementById('cdDays').textContent  = String(days).padStart(2, '0');
    document.getElementById('cdHours').textContent = String(hours).padStart(2, '0');
    document.getElementById('cdMins').textContent  = String(mins).padStart(2, '0');
    document.getElementById('cdSecs').textContent  = String(secs).padStart(2, '0');
  }

  updateCountdown();
  setInterval(updateCountdown, 1000);

  // ===================== PHOTO GALLERY =====================
  const galleryItems = [
    { emoji: '&#127968;', bg: 'linear-gradient(135deg,#1d4e4a,#2aab9e)',      name: 'The Breakwater',        sub: 'Exterior &middot; 103 E 19th St, Avalon NJ' },
    { emoji: '&#128636;', bg: 'linear-gradient(135deg,#2a3a50,#3a6080)',      name: 'Living Room',           sub: 'Open concept &middot; Ocean breezes &middot; Smart TV' },
    { emoji: '&#127859;', bg: 'linear-gradient(135deg,#3a2a1a,#8a5020)',      name: 'Gourmet Kitchen',       sub: 'Fully equipped &middot; Breakfast bar &middot; Farmhouse sink' },
    { emoji: '&#128716;', bg: 'linear-gradient(135deg,#1a2a3a,#2a5070)',      name: 'Master Suite',          sub: 'King bed &middot; En suite bath &middot; Balcony access' },
    { emoji: '&#128703;', bg: 'linear-gradient(135deg,#2a1a3a,#6030a0)',      name: 'Spa Bath',              sub: 'Soaking tub &middot; Walk-in shower &middot; Double vanity' },
    { emoji: '&#127944;', bg: 'linear-gradient(135deg,#155e56,#2aab9e)',      name: 'Private Pool &amp; Hot Tub', sub: 'Heated pool &middot; Outdoor shower &middot; Lounge deck' },
    { emoji: '&#127978;', bg: 'linear-gradient(135deg,#c85020,#f5a030)',      name: 'Rooftop Deck',          sub: 'Panoramic views &middot; Gas grill &middot; Dining for 8' },
    { emoji: '&#127754;', bg: 'linear-gradient(135deg,#0a2040,#1560a0)',      name: 'Beach Walkover',        sub: 'Direct beach access &middot; 1 block to the surf' },
  ];

  let galleryIdx = 0;

  function openGallery(idx) {
    galleryIdx = idx || 0;
    renderGallery();
    document.getElementById('galleryModal').classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  function closeGallery() {
    document.getElementById('galleryModal').classList.remove('active');
    document.body.style.overflow = '';
  }

  function renderGallery() {
    const item    = galleryItems[galleryIdx];
    const mainImg = document.getElementById('galleryMainImg');
    mainImg.style.background = item.bg;
    mainImg.innerHTML         = item.emoji;
    document.getElementById('galleryCaption').innerHTML    = item.name;
    document.getElementById('galleryCaptionSub').innerHTML = item.sub;
    document.getElementById('galleryCounter').textContent  = (galleryIdx + 1) + ' of ' + galleryItems.length;

    const thumbsEl = document.getElementById('galleryThumbs');
    thumbsEl.innerHTML = '';
    galleryItems.forEach(function(g, i) {
      const thumb        = document.createElement('div');
      thumb.className    = 'gallery-thumb' + (i === galleryIdx ? ' active' : '');
      thumb.style.background = g.bg;
      thumb.innerHTML    = g.emoji;
      thumb.onclick      = function() { galleryIdx = i; renderGallery(); };
      thumbsEl.appendChild(thumb);
    });
    thumbsEl.children[galleryIdx] && thumbsEl.children[galleryIdx].scrollIntoView({ block: 'nearest', inline: 'center' });
  }

  function galleryPrev() { galleryIdx = (galleryIdx - 1 + galleryItems.length) % galleryItems.length; renderGallery(); }
  function galleryNext() { galleryIdx = (galleryIdx + 1) % galleryItems.length; renderGallery(); }

  document.getElementById('galleryModal').addEventListener('click', function(e) {
    if (e.target === this) closeGallery();
  });

  document.addEventListener('keydown', function(e) {
    if (!document.getElementById('galleryModal').classList.contains('active')) return;
    if (e.key === 'ArrowLeft')  galleryPrev();
    if (e.key === 'ArrowRight') galleryNext();
    if (e.key === 'Escape')     closeGallery();
  });

  // ===================== EXPLORE FILTER =====================
  function filterExplore(category, btn) {
    document.querySelectorAll('.filter-pill').forEach(function(p) { p.classList.remove('active'); });
    btn.classList.add('active');
    document.querySelectorAll('.explore-card').forEach(function(card) {
      card.style.display = (category === 'all' || card.dataset.category === category) ? 'block' : 'none';
    });
  }

  // ===================== EVENTS =====================
  var eventsData = [
    { date: '2025-07-12', title: 'Avalon Seafood Festival', location: 'Avalon Boardwalk, 21st St', time: '12:00 PM \u2013 8:00 PM', category: 'food', desc: "Annual celebration of the Jersey Shore's finest seafood with live music, local vendors, and fresh catches.", free: false, price: '$5 entry', icon: '&#129362;', color: 'linear-gradient(135deg,#7c2d12,#c2410c)' },
    { date: '2025-07-12', title: 'Stone Harbor Farmers Market', location: '95th St & 2nd Ave, Stone Harbor', time: '8:00 AM \u2013 12:00 PM', category: 'food', desc: 'Fresh local produce, artisan goods, hand-cut flowers, and baked treats every Saturday morning.', free: true, icon: '&#127807;', color: 'linear-gradient(135deg,#14532d,#16a34a)' },
    { date: '2025-07-13', title: 'Avalon Summer Concert Series', location: "Veteran's Memorial Park, 30th St", time: '7:00 PM \u2013 9:00 PM', category: 'music', desc: "Free outdoor concert at Veteran's Memorial Park. This week: coastal cover band playing classic rock and beach favorites.", free: true, icon: '&#127928;', color: 'linear-gradient(135deg,#1e1b4b,#4c1d95)' },
    { date: '2025-07-13', title: 'Kayak & Paddleboard Sunset Tour', location: 'Avalon Watersports, 7th St Dock', time: '6:30 PM \u2013 8:30 PM', category: 'activity', desc: 'Guided sunset tour through the back bay. Equipment provided. All skill levels welcome \u2014 a perfect way to close a beach day.', free: false, price: '$45/person', icon: '&#127700;', color: 'linear-gradient(135deg,#0c4a6e,#0369a1)' },
    { date: '2025-07-14', title: 'Stone Harbor Bird Sanctuary Walk', location: 'Stone Harbor Bird Sanctuary, 114th St', time: '7:30 AM \u2013 9:00 AM', category: 'nature', desc: "Guided morning walk through one of the East Coast's only remaining colonial waterbird nesting sanctuaries. Binoculars provided.", free: true, icon: '&#129413;', color: 'linear-gradient(135deg,#064e3b,#059669)' },
    { date: '2025-07-15', title: 'Avalon Beach 5K', location: '8th St Beach, Avalon', time: '7:00 AM \u2013 10:00 AM', category: 'activity', desc: 'Annual charity 5K run along the shoreline. All ages and skill levels welcome. Register at the start line morning-of.', free: false, price: '$25 registration', icon: '&#127939;', color: 'linear-gradient(135deg,#7f1d1d,#b91c1c)' },
    { date: '2025-07-16', title: 'Avalon Wine & Jazz Night', location: 'Avalon Cultural Arts Center, 3100 Dune Dr', time: '7:00 PM \u2013 10:00 PM', category: 'music', desc: 'An evening of smooth jazz, local wine tastings, and light appetizers. Featuring the Cape May Jazz Quartet.', free: false, price: '$35/person', icon: '&#127927;', color: 'linear-gradient(135deg,#3b0764,#7e22ce)' },
    { date: '2025-07-17', title: 'Stone Harbor Farmers Market', location: '95th St & 2nd Ave, Stone Harbor', time: '8:00 AM \u2013 12:00 PM', category: 'food', desc: 'Fresh local produce, artisan goods, hand-cut flowers, and baked treats every Saturday morning.', free: true, icon: '&#127807;', color: 'linear-gradient(135deg,#14532d,#16a34a)' },
    { date: '2025-07-18', title: 'Kids\' Sandcastle Competition', location: '21st St Beach, Avalon', time: '10:00 AM \u2013 1:00 PM', category: 'family', desc: 'Annual family sandcastle building contest on the beach. Register the morning of at the lifeguard stand. Prizes for all age groups.', free: true, icon: '&#127963;', color: 'linear-gradient(135deg,#78350f,#d97706)' },
    { date: '2025-07-19', title: 'July Fireworks Spectacular', location: 'Beach at 32nd St, Avalon', time: '9:00 PM', category: 'special', desc: "Avalon's signature fireworks display launched over the ocean. Arrive by 8pm for best spots on the beach. Bring chairs!", free: true, icon: '&#127878;', color: 'linear-gradient(135deg,#1e1b4b,#be185d)' },
  ];

  function renderEvents(filter) {
    var list = document.getElementById('eventsList');
    if (!list) return;
    var filtered = filter === 'all' ? eventsData : eventsData.filter(function(e) { return e.category === filter; });
    var byDate = {};
    filtered.forEach(function(e) { if (!byDate[e.date]) byDate[e.date] = []; byDate[e.date].push(e); });
    list.innerHTML = '';
    Object.keys(byDate).sort().forEach(function(dateStr) {
      var dateLabel = new Date(dateStr + 'T12:00:00').toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' });
      var group = document.createElement('div');
      group.className = 'events-date-group';
      group.innerHTML = '<div class="events-date-label">' + dateLabel + '</div>';
      byDate[dateStr].forEach(function(e) {
        var card = document.createElement('div');
        card.className = 'event-card';
        card.dataset.category = e.category;
        var tagHtml = e.free
          ? '<span class="event-tag event-tag-free">Free</span>'
          : '<span class="event-tag event-tag-paid">' + e.price + '</span>';
        card.innerHTML =
          '<div class="event-icon" style="background:' + e.color + '">' + e.icon + '</div>' +
          '<div class="event-body">' +
            '<div class="event-name">' + e.title + '</div>' +
            '<div class="event-meta">&#128205; ' + e.location + '<br>&#128336; ' + e.time + '</div>' +
            '<div class="event-desc">' + e.desc + '</div>' +
            tagHtml +
          '</div>';
        group.appendChild(card);
      });
      list.appendChild(group);
    });
    if (filtered.length === 0) {
      list.innerHTML = '<div style="text-align:center;padding:60px 0;color:var(--text-light);font-size:15px">No events in this category during your stay.</div>';
    }
  }

  function filterEvents(cat, btn) {
    document.querySelectorAll('#eventsFilter .event-pill').forEach(function(p) { p.classList.remove('active'); });
    btn.classList.add('active');
    renderEvents(cat);
  }

  renderEvents('all');

  // ===================== GUEST BOOK =====================
  var gbRating = 5;

  function setRating(val) {
    gbRating = val;
    document.querySelectorAll('#starSelector .star-btn').forEach(function(btn, i) {
      btn.classList.toggle('lit', i < val);
    });
  }

  var defaultGbEntries = [
    { name: 'The Williams Family', dates: 'Jul 5 \u2013 Jul 12, 2025', rating: 5, message: "Absolutely magical week at The Breakwater. The kids lived in the pool and we closed down the hot tub every night. Highly recommend The Diving Horse for a special dinner \u2014 make a reservation well in advance!", ts: '2025-07-12T10:30:00' },
    { name: 'Sarah & Mike T.', dates: 'Jun 21 \u2013 Jun 28, 2025', rating: 5, message: "Our third year back at The Breakwater and it never disappoints. Tip: bike to Stone Harbor for breakfast \u2014 the ride along the bay is stunning in the morning. Already booked for next summer!", ts: '2025-06-28T09:15:00' },
    { name: 'The Kowalski Crew', dates: 'Jun 14 \u2013 Jun 21, 2025', rating: 5, message: "Nine of us for the week and the house fit everyone comfortably. The game room was a huge hit every evening. Beach badges sell out on holiday weekends so go early. T3D was super responsive when the AC needed a quick tune-up.", ts: '2025-06-21T11:00:00' },
    { name: 'The Patel Family', dates: 'May 24 \u2013 May 31, 2025', rating: 5, message: "First trip to Avalon and The Breakwater made it perfect. The deck at sunset is unbeatable. Kids loved Fred's Tavern and the Bird Sanctuary walk was a surprise favorite. Can't wait to come back!", ts: '2025-05-31T08:45:00' },
  ];

  function escapeHtml(text) {
    var div = document.createElement('div');
    div.appendChild(document.createTextNode(text));
    return div.innerHTML;
  }

  function loadGuestBook() {
    var stored = localStorage.getItem('bw_guestbook');
    var userEntries = stored ? JSON.parse(stored) : [];
    var allEntries = userEntries.concat(defaultGbEntries);
    var container = document.getElementById('guestbookEntries');
    if (!container) return;
    container.innerHTML = '';
    allEntries.forEach(function(e) {
      var el = document.createElement('div');
      el.className = 'guestbook-entry';
      var stars = '';
      for (var i = 0; i < 5; i++) stars += i < e.rating ? '&#9733;' : '&#9734;';
      var dateStr = new Date(e.ts).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
      el.innerHTML =
        '<div class="guestbook-entry-header">' +
          '<div>' +
            '<div class="guestbook-name">' + escapeHtml(e.name) + '</div>' +
            (e.dates ? '<div class="guestbook-dates">' + escapeHtml(e.dates) + '</div>' : '') +
          '</div>' +
          '<div class="guestbook-stars">' + stars + '</div>' +
        '</div>' +
        '<div class="guestbook-message">&ldquo;' + escapeHtml(e.message) + '&rdquo;</div>' +
        '<div class="guestbook-timestamp">Signed ' + dateStr + '</div>';
      container.appendChild(el);
    });
  }

  function submitGuestBookEntry() {
    var name    = document.getElementById('gbName').value.trim();
    var dates   = document.getElementById('gbDates').value.trim();
    var message = document.getElementById('gbMessage').value.trim();
    if (!name)    return showToast('Please enter your name or group name.');
    if (!message) return showToast('Please write a message before signing.');
    var entry = { name: name, dates: dates, rating: gbRating, message: message, ts: new Date().toISOString() };
    var stored = localStorage.getItem('bw_guestbook');
    var existing = stored ? JSON.parse(stored) : [];
    existing.unshift(entry);
    localStorage.setItem('bw_guestbook', JSON.stringify(existing));
    document.getElementById('gbName').value = '';
    document.getElementById('gbDates').value = '';
    document.getElementById('gbMessage').value = '';
    setRating(5);
    loadGuestBook();
    showToast('Your note has been added to the Guest Book!');
  }

  loadGuestBook();

  // ===================== CHECKOUT CHECKLIST =====================
  var checklistItems = [
    'Strip all bed linens and leave on bedroom floors',
    'Place used towels in bathtubs',
    'Empty all trash into outdoor bins',
    'Run dishwasher with remaining dishes',
    'Clean BBQ grill grates and replace cover',
    'Return all beach badges to hook by front door',
    'Close and lock all windows',
    'Lock all doors \u2014 front, back, and garage',
    'Turn off all lights and ceiling fans',
    'Set A/C to 78\u00b0F before departing',
    'Report any damages to T3D Properties: (609) 555-0184',
    'Leave a note in the Guest Book!',
  ];

  function buildChecklist() {
    var stored = JSON.parse(localStorage.getItem('bw_checklist') || '{}');
    var container = document.getElementById('checklistItems');
    if (!container) return;
    container.innerHTML = '';
    checklistItems.forEach(function(text, i) {
      var done = !!stored[i];
      var item = document.createElement('div');
      item.className = 'checklist-item' + (done ? ' done' : '');
      item.setAttribute('data-idx', i);
      item.onclick = function() { toggleCheck(i); };
      item.innerHTML =
        '<div class="checklist-box">' + (done ? '&#10003;' : '') + '</div>' +
        '<span class="checklist-text">' + text + '</span>';
      container.appendChild(item);
    });
    updateChecklistProgress();
  }

  function toggleCheck(i) {
    var stored = JSON.parse(localStorage.getItem('bw_checklist') || '{}');
    stored[i] = !stored[i];
    localStorage.setItem('bw_checklist', JSON.stringify(stored));
    buildChecklist();
  }

  function resetChecklist() {
    localStorage.removeItem('bw_checklist');
    buildChecklist();
    showToast('Checklist reset.');
  }

  function updateChecklistProgress() {
    var stored = JSON.parse(localStorage.getItem('bw_checklist') || '{}');
    var done  = Object.values(stored).filter(Boolean).length;
    var total = checklistItems.length;
    var pct   = Math.round((done / total) * 100);
    var bar   = document.getElementById('checklistBar');
    var label = document.getElementById('checklistProgress');
    if (bar)   bar.style.width = pct + '%';
    if (label) label.textContent = done + ' of ' + total + ' done';
  }

  buildChecklist();
</script>
</body>
</html>
